/*!
 * 1DS JS SDK Shared Analytics, 3.1.11
 * Copyright (c) Microsoft and contributors. All rights reserved.
 * (Microsoft Internal Only)
 */
!function(X){"use strict";var b="function",a="object",re="undefined",s="prototype",E="hasOwnProperty",t=Object,T=t[s],_=t.assign,O=t.create,L=t.defineProperty,N=T[E],P=null;function R(e){return void 0===e&&(e=!0),P&&e||(typeof globalThis!==re&&globalThis&&(P=globalThis),typeof self!==re&&self&&(P=self),typeof window!==re&&window&&(P=window),typeof global!==re&&global&&(P=global)),P}function M(e){throw new TypeError(e)}function A(e){if(O)return O(e);if(null==e)return{};var n=typeof e;function t(){}return n!==a&&n!==b&&M("Object prototype may only be an Object:"+e),t[s]=e,new t}(R()||{}).Symbol,(R()||{}).Reflect;var e=_||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])T[E].call(n,i)&&(e[i]=n[i]);return e},k=function(e,n){return(k=t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[E](t)&&(e[t]=n[t])})(e,n)};function n(e,n){function t(){this.constructor=e}typeof n!==b&&null!==n&&M("Class extends value "+n+" is not a constructor or null"),k(e,n),e[s]=null===n?A(n):(t[s]=n[s],new t)}function D(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var G={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},F="constructor",p="prototype",U="function",B="_dynInstFuncs",z="_isDynProxy",K="_dynClass",q="_dynInstChk",V=q,W="_dfOpts",ie="_unknown_",oe="__proto__",ae="useBaseInst",se="setInstFuncs",ue=Object,ce=ue.getPrototypeOf,le=0;function fe(e,n){return e&&ue[p].hasOwnProperty.call(e,n)}function de(e){return e&&(e===ue[p]||e===Array[p])}function ge(e){return de(e)||e===Function[p]}function pe(e){if(e){if(ce)return ce(e);e=e[oe]||e[p]||(e[F]?e[F][p]:null);if(e)return e}return null}function ve(e,n){var t=[],r=ue.getOwnPropertyNames;if(r)t=r(e);else for(var i in e)"string"==typeof i&&fe(e,i)&&t.push(i);if(t&&0<t.length)for(var o=0;o<t.length;o++)n(t[o])}function he(e,n,t){return n!==F&&typeof e[n]===U&&(t||fe(e,n))}function ye(e){throw new TypeError("DynamicProto: "+e)}function me(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}function xe(e,n){return fe(e,p)?e.name||n||ie:((e||{})[F]||{}).name||n||ie}function y(e,r,n,t){fe(e,p)||ye("theClass is an invalid class definition.");var i,o,a,s,u,c,l=e[p],f=(function(e){if(ce)for(var n=[],t=pe(r);t&&!ge(t)&&!me(n,t);){if(t===e)return 1;n.push(t),t=pe(t)}}(l)||ye("["+xe(e)+"] is not in class hierarchy of ["+xe(r)+"]"),null),e=(fe(l,K)?f=l[K]:(f="_dynCls$"+xe(e,"_")+"$"+le,le++,l[K]=f),y[W]),d=!!e[ae],g=(d&&t&&t[ae]!==undefined&&(d=!!t[ae]),o={},ve(i=r,function(e){!o[e]&&he(i,e,!1)&&(o[e]=i[e])}),o),d=(n(r,function(e,n,t,o){function r(e,n,t){var r,i=n[t];return i[z]&&o&&!1!==(r=e[B]||{})[V]&&(i=(r[n[K]]||{})[t]||i),function(){return i.apply(e,arguments)}}for(var i={},a=(ve(t,function(e){i[e]=r(n,t,e)}),pe(e)),s=[];a&&!ge(a)&&!me(s,a);)ve(a,function(e){!i[e]&&he(a,e,!ce)&&(i[e]=r(n,a,e))}),s.push(a),a=pe(a);return i}(l,r,g,d)),!!ce&&!!e[se]);a=l,n=f,s=r,u=g,e=!1!==(d=d&&t?!!t[se]:d),de(a)||(l=s[B]=s[B]||{},c=l[n]=l[n]||{},!1!==l[V]&&(l[V]=!!e),ve(s,function(e){var t,r,i;he(s,e,!1)&&s[e]!==u[e]&&(c[e]=s[e],delete s[e],fe(a,e)&&(!a[e]||a[e][z])||(a[e]=(t=a,r=e,(i=function(){var e,n;return(function(e,n,t,r){var i=null;if(e&&fe(t,K)){var o=e[B]||{};if((i=(o[t[K]]||{})[n])||ye("Missing ["+n+"] "+U),!i[q]&&!1!==o[V]){for(var a=!fe(e,n),s=pe(e),u=[];a&&s&&!ge(s)&&!me(u,s);){var c=s[n];if(c){a=c===r;break}u.push(s),s=pe(s)}try{a&&(e[n]=i),i[q]=1}catch(l){o[V]=!1}}}return i}(this,r,t,i)||(typeof(n=(n=t[e=r])===i?pe(t)[e]:n)!==U&&ye("["+e+"] is not a "+U),n)).apply(this,arguments)})[z]=1,i)))}))}y[W]={setInstFuncs:!0,useBaseInst:!0},X.LoggingSeverity=void 0,(r=X.LoggingSeverity||(X.LoggingSeverity={}))[r.CRITICAL=1]="CRITICAL",r[r.WARNING=2]="WARNING";var Ce={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},Ie="on",Se="attachEvent",we="addEventListener",be="toISOString",Ee="endsWith",Te="startsWith",_e="indexOf",Oe="trim",r="toString",Le=L,L=t.freeze,Ne=(t.seal,t.keys),Pe=String[s],Re=Pe[Oe],Me=Pe[Ee],Ae=Pe[Te],ke=Date[s][be],Pe=Array.isArray,De=T[r];function H(e){return e===undefined||typeof e===re}function j(e){return null===e||H(e)}function Fe(e){return!j(e)}function Ue(e,n){return!(!e||!N.call(e,n))}function Be(e){return!(!e||typeof e!==a)}function m(e){return!(!e||typeof e!==b)}function ze(e,n,t,r){void 0===r&&(r=!1);var i=!1;if(!j(e))try{j(e[we])?j(e[Se])||(e[Se](Ie+n,t),i=!0):(e[we](n,t,r),i=!0)}catch(o){}return i}function Ke(e,n){if(e)for(var t in e)N.call(e,t)&&n.call(e,t,e[t])}function qe(e,n){var t=!1;if(e&&n&&!(t=e===n)){if(Ae)return e[Te](n);var r=e,i=n,e=!1,o=i?i.length:0;if(r&&o&&r.length>=o&&!(e=r===i)){for(var a=0;a<o;a++)if(r[a]!==i[a])return!1;e=!0}return e}return t}function g(e,n){return!(!e||!n||!~e.indexOf(n))}N[r].call(t);var Q=Pe||function(e){return!(!e||"[object Array]"!==De.call(e))};function Ve(e){return!(!e||"[object Error]"!==De.call(e))}function We(e){return"string"==typeof e}function He(e){return"number"==typeof e}function je(e){return"boolean"==typeof e}function Xe(e){if(e){if(ke)return e[be]();var n;return e&&e.getUTCFullYear?(n=function(e){e=""+e;return 1===e.length?"0"+e:e},e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"):void 0}}function J(e,n,t){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===n.call(t||e,e[i],i,e));i++);}catch(o){}}function Ge(e,n,t){if(e){if(e[_e])return e[_e](n,t);var r=e.length,t=t||0;try{for(var i=Math.max(0<=t?t:r-Math.abs(t),0);i<r;i++)if(i in e&&e[i]===n)return i}catch(o){}}return-1}function Z(e){return e&&(Re&&e[Oe]?e[Oe]():e.replace?e.replace(/^\s+|\s+$/g,""):e)}var Qe=!{toString:null}.propertyIsEnumerable("toString"),Je=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ze(e){var n=typeof e;if(n===b||n===a&&null!==e||M("objKeys called on non-object"),!Qe&&Ne)return Ne(e);var t,r=[];for(t in e)e&&N.call(e,t)&&r.push(t);if(Qe)for(var i=Je.length,o=0;o<i;o++)e&&N.call(e,Je[o])&&r.push(Je[o]);return r}function u(e,n,t,r){if(Le)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),Le(e,n,i),!0}catch(o){}return!1}r=L||function(e){return e};function Ye(){var e=Date;return e.now?e.now():(new e).getTime()}function v(e,n,t,r,i){var o=t;!e||(o=e[n])===t||i&&!i(o)||r&&!r(t)||(e[n]=o=t)}function $e(e){return!e}function en(e){return!!e}function nn(e){throw Error(e)}function tn(e){return e&&_?t(_({},e)):e}var rn="window",on="navigator",an="location",sn="console",un="JSON",cn="crypto",ln="msCrypto",fn="ReactNative",dn="msie",gn="trident/",pn=null,vn=null,hn=!1,yn=null,mn=null;function xn(e,n){var t,r=!1;if(e){try{(r=n in e)||(t=e[s])&&(r=n in t)}catch(i){}if(!r)try{r=!H((new e)[n])}catch(i){}}return r}function Y(e){var n=R();return n&&n[e]?n[e]:e===rn&&Cn()?window:null}function Cn(){return typeof window===a&&window}function In(){return Cn()?window:Y(rn)}function Sn(){return typeof document===a&&document?document:Y("document")}function wn(){return!(typeof navigator!==a||!navigator)}function bn(){return wn()?navigator:Y(on)}function En(e){if(e&&hn){e=Y("__mockLocation");if(e)return e}return typeof location===a&&location?location:Y(an)}function Tn(){return typeof JSON===a&&JSON||null!==Y(un)}function _n(){return Tn()?JSON||Y(un):null}function On(){var e=bn();return!(!e||!e.product)&&e.product===fn}function Ln(){var e=bn();return!e||e.userAgent===vn&&null!==pn||(e=((vn=e.userAgent)||"").toLowerCase(),pn=g(e,dn)||g(e,gn)),pn}function Nn(e){var n=Object[s].toString.call(e),t="";return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Tn()&&(t=_n().stringify(e)),n+t}function Pn(){return mn=null===mn?wn()&&!!bn().sendBeacon:mn}function Rn(){var e=!1;try{e=!!Y("XMLHttpRequest")}catch(n){}return e}var Mn,An=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],kn=null;function Dn(e){var n=kn;return(n=n||!0===e.disableDbgExt?n:kn||(e=Y("Microsoft"),kn=e?e.ApplicationInsights:kn))?n.ChromeDbgExt:null}function Fn(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Un(e,n){var t,r=typeof console!==re?console:Y(sn);r&&(t="log",m(r[t=r[e]?e:t])&&r[t](n))}zn.dataType="MessageData";var Bn=zn;function zn(e,n,t,r){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e;t="",Tn()&&(t=_n().stringify(r)),e=(n?" message:"+Fn(n):"")+(r?" props:"+Fn(t):"");this.message+=e}function Kn(e,n){return(e||{}).logger||new qn(n)}var qn=function qo(r){this.identifier="DiagnosticLogger",this.queue=[];var i=0,s={};y(qo,this,function(o){function e(e,n){e=r[e];return j(e)?n:e}function a(e,n){var t=Dn(r);t&&t.diagLog&&t.diagLog(e,n)}j(r)&&(r={}),o.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},o.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},o.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},o.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},o.throwInternal=function(e,n,t,r,i){n=new Bn(n,t,i=void 0!==i&&i,r);if(o.enableDebugExceptions())throw n;t=e===X.LoggingSeverity.CRITICAL?"errorToConsole":"warnToConsole";H(n.message)?a("throw"+(e===X.LoggingSeverity.CRITICAL?"Critical":"Warning"),n):(r=o.consoleLoggingLevel(),i?(i=+n.messageId,!s[i]&&e<=r&&(o[t](n.message),s[i]=!0)):e<=r&&o[t](n.message),o.logInternalMessage(e,n))},o.warnToConsole=function(e){Un("warn",e),a("warning",e)},o.errorToConsole=function(e){Un("error",e),a("error",e)},o.resetInternalMessageCount=function(){i=0,s={}},o.logInternalMessage=function(e,n){var t,r;i>=o.maxInternalMessageLimit()||(r=!0,t="AITR_"+n.messageId,s[t]?r=!1:s[t]=!0,r&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(n),i++,a(e===X.LoggingSeverity.CRITICAL?"error":"warn",n)),i===o.maxInternalMessageLimit()&&(r=new Bn(Ce.MessageLimitPerPVExceeded,t="Internal events throttle limit per PageView reached for this app.",!1),o.queue.push(r),e===X.LoggingSeverity.CRITICAL?o.errorToConsole(t):o.warnToConsole(t))))}})},Vn=(Wn.ParentContextKey="parent",Wn.ChildrenContextKey="childEvts",Wn);function Wn(e,i,n){var t,o=this,a=!1;o.start=Ye(),o.name=e,o.isAsync=n,o.isChildEvt=function(){return!1},m(i)&&(a=u(o,"payload",function(){return!t&&m(i)&&(t=i(),i=null),t})),o.getCtx=function(e){return e?(e===Wn.ParentContextKey||e===Wn.ChildrenContextKey?o:o.ctx||{})[e]:null},o.setCtx=function(e,n){e&&(e===Wn.ParentContextKey?(o[e]||(o.isChildEvt=function(){return!0}),o[e]=n):e===Wn.ChildrenContextKey?o[e]=n:(o.ctx=o.ctx||{})[e]=n)},o.complete=function(){var e=0,n=o.getCtx(Wn.ChildrenContextKey);if(Q(n))for(var t=0;t<n.length;t++){var r=n[t];r&&(e+=r.time)}o.time=Ye()-o.start,o.exTime=o.time-e,o.complete=function(){},!a&&m(i)&&(o.payload=i())}}var Hn=function Vo(n){this.ctx={},y(Vo,this,function(t){t.create=function(e,n,t){return new Vn(e,n,t)},t.fire=function(e){e&&(e.complete(),n&&m(n.perfEvent)&&n.perfEvent(e))},t.setCtx=function(e,n){e&&((t.ctx=t.ctx||{})[e]=n)},t.getCtx=function(e){return(t.ctx||{})[e]}})},jn="CoreUtils.doPerf";function $(e,n,t,r,i){if(e)if(e=m(e.getPerfMgr)?e.getPerfMgr():e){var o,a=void 0,s=e.getCtx(jn);try{if(a=e.create(n(),r,i))return s&&a.setCtx&&(a.setCtx(Vn.ParentContextKey,s),s.getCtx&&s.setCtx&&((o=s.getCtx(Vn.ChildrenContextKey))||(o=[],s.setCtx(Vn.ChildrenContextKey,o)),o.push(a))),e.setCtx(jn,a),t(a)}catch(u){a&&a.setCtx&&a.setCtx("exception",u)}finally{a&&e.fire(a),e.setCtx(jn,s)}}return t()}var Xn=function(i,n){var o=this,a=null,s=m(i.processTelemetry),u=m(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processTelemetry=function(t,r){r=r||n;var e=i?i.identifier:"TelemetryPluginChain";$(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){o._hasRun=!0;try{r.setNext(a),u&&i.setNextPlugin(a),a&&(a._hasRun=!1),i.processTelemetry(t,r)}catch(n){var e=a&&a._hasRun;a&&e||r.diagLog().throwInternal(X.LoggingSeverity.CRITICAL,Ce.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+Nn(n)),a&&!e&&a.processTelemetry(t,r)}}else a&&(o._hasRun=!0,a.processTelemetry(t,r))},function(){return{item:t}},!t.sync)}};function Gn(e,n){var t=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var o=e[i];o&&m(o.processTelemetry)&&(o=new Xn(o,n),t.push(o),r&&r.setNext(o),r=o)}return 0<t.length?t[0]:null}var Qn=function Wo(e,i,t,n){var r,o,a,s,u=this,c=null;null!==n&&(e&&m(e.getPlugin)?c=function(e,n,t){var r=[],i=!t;if(e)for(;e;){var o=e.getPlugin();!i&&o!==t||(i=!0,r.push(o)),e=e.getNext()}return i||r.push(t),Gn(r,n)}(e,u,n||e.getPlugin()):n?(r=u,a=e,s=!1,(o=n)&&e&&(a=[],J(e,function(e){!s&&e!==o||(s=!0,a.push(e))})),o&&!s&&(a=a||[]).push(o),c=Gn(a,r)):H(n)&&(c=Gn(e,u))),u.core=function(){return t},u.diagLog=function(){return Kn(t,i)},u.getCfg=function(){return i},u.getExtCfg=function(e,n){var t,r;return void 0===n&&(n={}),(t=i&&(r=i.extensionConfig)&&e?r[e]:t)||n},u.getConfig=function(e,n,t){void 0===t&&(t=!1);var r,e=u.getExtCfg(e,null);return e&&!j(e[n])?r=e[n]:i&&!j(i[n])&&(r=i[n]),j(r)?t:r},u.hasNext=function(){return null!=c},u.getNext=function(){return c},u.setNext=function(e){c=e},u.processNext=function(e){var n=c;n&&(c=n.getNext(),n.processTelemetry(e,u))},u.createNew=function(e,n){return new Wo((e=void 0===e?null:e)||c,i,t,n)}},Jn="extensionConfig",Zn="getPlugin",Pe=(Yn.prototype.initialize=function(e,n,t,r){this._baseTelInit(e,n,t,r)},Yn);function Yn(){var o=this,a=!1,s=null,u=null;o.core=null,o.diagLog=function(e){return o._getTelCtx(e).diagLog()},o.isInitialized=function(){return a},o.setInitialized=function(e){a=e},o.setNextPlugin=function(e){u=e},o.processNext=function(e,n){n?n.processNext(e):u&&m(u.processTelemetry)&&u.processTelemetry(e,null)},o._getTelCtx=function(e){var n,e=e=void 0===e?null:e;return e||(n=s||new Qn(null,{},o.core),e=u&&u[Zn]?n.createNew(null,u[Zn]):n.createNew(null,u)),e},o._baseTelInit=function(e,n,t,r){e&&v(e,Jn,[],null,j),!r&&n&&(r=n.getProcessTelContext().getNext());var i=u;u&&u[Zn]&&(i=u[Zn]()),o.core=n,s=new Qn(r,e,n,i),a=!0}}var $n="processTelemetry",et="priority",nt="setNextPlugin",tt="isInitialized";function rt(n,t){for(var e=[],r=null,i=n.getNext();i;){var o=i.getPlugin();o&&(r&&m(r[nt])&&m(o[$n])&&r[nt](o),m(o[tt])&&o[tt]()||e.push(o),r=o,i=i.getNext())}J(e,function(e){e.initialize(n.getCfg(),n.core(),t,n.getNext())})}function it(e){return e.sort(function(e,n){var t=0,r=m(n[$n]);return m(e[$n])?t=r?e[et]-n[et]:1:r&&(t=-1),t})}n(st,ot=Pe),st._staticInit=(u(L=st.prototype,"ChannelControls",L.getChannelControls),void u(L,"channelQueue",L.getChannelControls));var ot,at=st;function st(){var u,r=ot.call(this)||this;function c(e){e&&0<e.length&&(J(e=e.sort(function(e,n){return e.priority-n.priority}),function(e){e.priority<500&&nn("Channel has invalid priority"+e.identifier)}),u.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,y(st,r,function(a,s){a.setNextPlugin=function(e){},a.processTelemetry=function(n,t){u&&J(u,function(e){0<e.length&&r._getTelCtx(t).createNew(e).processNext(n)})},a.getChannelControls=function(){return u},a.initialize=function(n,t,r){var e,i,o;a.isInitialized()||(s.initialize(n,t,r),e=(n||{}).channels,i=r,u=[],e&&J(e,c),i&&(o=[],J(i,function(e){500<e.priority&&o.push(e)}),c(o)),J(u,function(e){return rt(new Qn(e,n,t),r)}))}}),r}var ut="toGMTString",ct="toUTCString",lt="cookie",ft="expires",dt="enabled",gt="isCookieUseDisabled",pt="disableCookiesUsage",vt="_ckMgr",h="",ht=null,yt=null,mt=null,xt=Sn(),Ct={},It={};function St(e){return!e||e.isEnabled()}function wt(e,n){var t,r;return e?t=e.getCookieMgr():n&&(t=n.cookieCfg[vt]||bt(n)),t||(e=(e||{}).logger,(r=bt[vt]||It[vt])||(r=bt[vt]=bt(n,e),It[vt]=r),t=r),t}function bt(e,i){v(t=(e=e||It).cookieCfg=e.cookieCfg||{},"domain",e.cookieDomain,Fe,j),v(t,"path",e.cookiePath||"/",null,j),j(t[dt])&&(n=void 0,H(e[gt])||(n=!e[gt]),H(e[pt])||(n=!e[pt]),t[dt]=n);var n,t,c=t,l=c.path||"/",f=c.domain,r=!1!==c[dt],d={isEnabled:function(){var e=r&&Et(i),n=It[vt];return e&&n&&d!==n?St(n):e},setEnabled:function(e){r=!1!==e},set:function(e,n,t,r,i){var o,a,s,u=!1;return St(d)&&(o={},-1!=(s=(a=Z(n||h)).indexOf(";"))&&(a=Z(n.substring(0,s)),o=Tt(n.substring(1+s))),v(o,"domain",r||f,en,H),j(t)||(s=Ln(),H(o[ft])&&0<(n=Ye()+1e3*t)&&((r=new Date).setTime(n),v(o,ft,_t(r,s?ut:ct)||_t(r,s?ut:ct)||h,en)),s||v(o,"max-age",h+t,null,H)),(n=En())&&"https:"===n.protocol&&(v(o,"secure",null,null,H),(yt=null===yt?!(We(r=(bn()||{}).userAgent)&&(g(r,"CPU iPhone OS 12")||g(r,"iPad; CPU OS 12")||g(r,"Macintosh; Intel Mac OS X 10_14")&&g(r,"Version/")&&g(r,"Safari")||g(r,"Macintosh; Intel Mac OS X 10_14")&&function(e,n){var t=!1;if(!e||(t=e===n))return t;if(Me)return e[Ee](n);var r=e,i=n,t=!1,e=r?r.length:0;if(e&&40<=e&&!(t=r===i)){for(var o=e-1,a=39;0<=a;a--){if(r[o]!=i[a])return;o--}t=!0}return t}(r,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||g(r,"Chrome/5")||g(r,"Chrome/6")||g(r,"UnrealEngine")&&!g(r,"Chrome")||g(r,"UCBrowser/12")||g(r,"UCBrowser/11"))):yt)&&v(o,"SameSite","None",null,H)),v(o,"path",i||l,null,H),(c.setCookie||Lt)(e,Ot(a,o)),u=!0),u},get:function(e){var n=h;return St(d)?(c.getCookie||function(e){var n,t=h;return xt&&(n=xt[lt]||h,mt!==n&&(Ct=Tt(n),mt=n),t=Z(Ct[e]||h)),t})(e):n},del:function(e,n){return!!St(d)&&d.purge(e,n)},purge:function(e,n){var t,r=!1;return Et(i)&&((t={}).path=n||"/",t[ft]="Thu, 01 Jan 1970 00:00:01 GMT",n=t,Ln()||(n["max-age"]="0"),(c.delCookie||Lt)(e,Ot(h,n)),r=!0),r}};return d[vt]=d}function Et(e){if(null===ht){ht=!1;try{ht=(xt||{})[lt]!==undefined}catch(t){e&&e.throwInternal(X.LoggingSeverity.WARNING,Ce.CannotAccessCookie,"Cannot access document.cookie - "+(Ve(n=t)?n.name:""),{exception:Nn(t)})}}var n;return ht}function Tt(e){var t={};return e&&e.length&&J(Z(e).split(";"),function(e){var n;(e=Z(e||h))&&(-1==(n=e.indexOf("="))?t[e]=null:t[Z(e.substring(0,n))]=Z(e.substring(1+n)))}),t}function _t(e,n){return m(e[n])?e[n]():null}function Ot(e,n){var t=e||h;return Ke(n,function(e,n){t+="; "+e+(j(n)?h:"="+n)}),t}function Lt(e,n){xt&&(xt[lt]=e+"="+n)}var Nt="_notificationManager";function Pt(e,n){return new Hn(n)}var Rt,Mt=function Ho(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;y(Ho,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var n=Ge(i.listeners,e);-1<n;)i.listeners.splice(n,1),n=Ge(i.listeners,e)},i.eventsSent=function(n){J(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(n)},0)})},i.eventsDiscarded=function(n,t){J(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(n,t)},0)})},i.eventsSendRequest=function(t,r){J(i.listeners,function(e){if(e&&e.eventsSendRequest)if(r)setTimeout(function(){return e.eventsSendRequest(t,r)},0);else try{e.eventsSendRequest(t,r)}catch(n){}})},i.perfEvent=function(t){!t||!n&&t.isChildEvt()||J(i.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(n){}})}})},L=(n(At,Rt=function jo(){var n,c,l,t,r,f=!1;y(jo,this,function(u){u._extensions=[],c=new at,u.logger=new qn({loggingLevelConsole:X.LoggingSeverity.CRITICAL}),n=[],u.isInitialized=function(){return f},u.initialize=function(e,n,r,t){u.isInitialized()&&nn("Core should not be initialized more than once"),e&&!j(e.instrumentationKey)||nn("Please provide instrumentation key"),l=t,u[Nt]=t,u.config=e||{},t&&!0!==u.config.disableDbgExt&&t.addNotificationListener(function(e){if(!Mn){Mn={};for(var n=0;n<An.length;n++)Mn[An[n]]=function(n,t){return function(){var e=Dn(t);e&&(e=e.listener)&&e[n]&&e[n].apply(e,arguments)}}(An[n],e)}return Mn}(e)),u.config.enablePerfMgr&&v(u.config,"createPerfMgr",Pt),e.extensions=j(e.extensions)?[]:e.extensions,e?!(i=e[Jn])&&j(i)&&(i=H(o)?{}:o,e[Jn]=i):i=H(o)?{}:o,i.NotificationManager=t,r&&(u.logger=r);var i,o=[],a=(o.push.apply(o,D(D([],n),e.extensions)),o=it(o),[]),s={};J(o,function(e){(j(e)||j(e.initialize))&&nn("Extensions must provide callback to initialize");var n=e.priority,t=e.identifier;e&&n&&(j(s[n])?s[n]=t:r.warnToConsole("Two extensions have same priority #"+n+" - "+s[n]+", "+t)),(!n||n<c.priority)&&a.push(e)}),o.push(c),a.push(c),o=it(o),u._extensions=o,rt(new Qn([c],e,u),o),rt(new Qn(a,e,u),o),u._extensions=a,0===u.getTransmissionControls().length&&nn("No channels available"),f=!0,u.releaseQueue()},u.getTransmissionControls=function(){return c.getChannelControls()},u.track=function(e){v(e,"iKey",u.config.instrumentationKey,null,$e),v(e,"time",Xe(new Date),null,$e),v(e,"ver","4.0",null,j),u.isInitialized()?u.getProcessTelContext().processNext(e):n.push(e)},u.getProcessTelContext=function(){var e=u._extensions,n=e;return e&&0!==e.length||(n=[c]),new Qn(n,u.config,u)},u.getNotifyMgr=function(){return l||(l=A({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,n){},eventsSendRequest:function(e,n){}}),u[Nt]=l),l},u.getCookieMgr=function(){return r=r||bt(u.config,u.logger)},u.setCookieMgr=function(e){r=e},u.getPerfMgr=function(){return t||u.config&&u.config.enablePerfMgr&&m(u.config.createPerfMgr)&&(t=u.config.createPerfMgr(u,u.getNotifyMgr())),t||null},u.setPerfMgr=function(e){t=e},u.eventCnt=function(){return n.length},u.releaseQueue=function(){0<n.length&&(J(n,function(e){u.getProcessTelContext().processNext(e)}),n=[])}})}),At);function At(){var e=Rt.call(this)||this,r=0;return y(At,e,function(t,i){function n(e){var n=t.getNotifyMgr();n&&n.eventsDiscarded([e],G.InvalidEvent)}t.initialize=function(e,n,t,r){i.initialize(e,n,t||new qn(e),r||new Mt(e))},t.track=function(e){$(t.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){if(null===e&&(n(e),nn("Invalid telemetry item")),j(e.name))throw n(e),Error("telemetry name required");i.track(e)},function(){return{item:e}},!e.sync)},t.addNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.addNotificationListener(e)},t.removeNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.removeNotificationListener(e)},t.pollInternalLogs=function(n){var e=t.config.diagnosticLogInterval;return e&&0<e||(e=1e4),r&&t.stopPollingInternalLogs(),r=setInterval(function(){var e=t.logger?t.logger.queue:[];J(e,function(e){e={name:n||"InternalMessageId: "+e.messageId,iKey:t.config.instrumentationKey,time:Xe(new Date),baseType:Bn.dataType,baseData:{message:e.message}};t.track(e)}),e.length=0},e)},t.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}}),e}var kt=4294967296,Dt=4294967295,Ft=!1,Ut=123456789,Bt=987654321;function zt(e){e<0&&(e>>>=0),Ut=123456789+e&Dt,Bt=987654321-e&Dt,Ft=!0}function Kt(){try{var e=2147483647&Ye();zt((Math.random()*kt^e)+e)}catch(n){}}function qt(e){return 0<e?Math.floor(Vt()/Dt*(e+1))>>>0:0}function Vt(e){var n=Y(cn)||Y(ln),n=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&Dt:Ln()?(Ft||Kt(),Wt()&Dt):Math.floor(kt*Math.random()|0);return e||(n>>>=0),n}function Wt(e){var n=((Bt=36969*(65535&Bt)+(Bt>>16)&Dt)<<16)+(65535&(Ut=18e3*(65535&Ut)+(Ut>>16)&Dt))>>>0&Dt|0;return e||(n>>>=0),n}var Ht="visibilitychange",jt="pagehide",Xt="pageshow";function Gt(e,n){var t=!1,r=In(),r=(r&&(t=ze(r,e,n),t=ze(r.body,e,n)||t),Sn());return r&&ze(r,e,n)||t}function Qt(e,n){!function o(e,n,t){var r,i=!1;return n&&e&&Q(e)&&(r=[],J(e,function(e){We(e)&&(t&&-1!==Ge(t,e)?r.push(e):i=Gt(e,n)||i)}),!i&&0<r.length&&(i=o(r,n))),i}(["beforeunload","unload","pagehide"],e,n)}function Jt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(er,function(e){var n=0|qt(15);return("x"===e?n:3&n|8).toString(16)})}function Zt(){var e=Y("performance");return e&&e.now?e.now():Ye()}function Yt(e){void 0===e&&(e=22);for(var n=Vt()>>>0,t=0,r="";r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n]||"",n>>>=6,5==++t&&(n=(Vt()<<2&4294967295|3&n)>>>0,t=0);return r}function $t(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<4;r++)t+=n[15&(e=Vt())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&Vt())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var er=/[xy]/g,nr={NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32},ee={Normal:1,CostDeferred:2,RealTime:3,Immediate:4},ne=e(e({},Ce),{AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}),tr="1DS-Web-JS-3.1.11",rr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ir="withCredentials",or="timeout",ar=((e={})[0]=0,e[2]=6,e[1]=1,e[3]=7,e[4098]=6,e[4097]=1,e[4099]=7,e),sr=null,e=(Sn(),!!In());function ur(e){return!(""===e||j(e))}function cr(e){return!!(e&&He(e)&&e>=ee.Normal&&e<=ee.Immediate)}function lr(e,n,t){var r=-1;return H(e)||(0<n&&(32===n?r=8192:n<=13&&(r=n<<5)),0<=t&&t<=9?(-1===r&&(r=0),r|=t):(n=ar[function i(e){var n,t=0;return null!==e&&e!==undefined&&("string"==(n=typeof e)?t=1:"number"==n?t=2:"boolean"==n?t=3:n===a&&(t=4,Q(e)?(t=4096,0<e.length&&(t|=i(e[0]))):Ue(e,"value")&&(t=8192|i(e.value)))),t}(e)]||-1,-1!==r&&-1!==n?r|=n:6===n&&(r=n))),r}function fr(e,n,t){var r;return void 0===t&&(t=!0),e&&(r=e.get(n),t&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function dr(e){void 0===e&&(e="D");var n=Jt();return"B"===e?n="{"+n+"}":"P"===e?n="("+n+")":"N"===e&&(n=n.replace(/-/g,"")),n}function gr(){var r={},n=!1,e=0,t=arguments.length,i=Object[s],o=arguments;for("[object Boolean]"===i.toString.call(o[0])&&(n=o[0],e++);e<t;e++)Ke(o[e],function(t,e){n&&e&&Be(e)?Q(e)?(r[t]=r[t]||[],J(e,function(e,n){e&&Be(e)?r[t][n]=gr(!0,r[t][n],e):r[t][n]=e})):r[t]=gr(!0,r[t],e):r[t]=e});return r}var te=Zt;function pr(e,n){e.timings=e.timings||{},e.timings.processTelemetryStart=e.timings.processTelemetryStart||{},e.timings.processTelemetryStart[n]=te()}var vr,hr={_canUseCookies:undefined,isTypeof:function(e,n){return typeof e===n},isUndefined:H,isNullOrUndefined:j,hasOwnProperty:Ue,isFunction:m,isObject:Be,isDate:function(e){return!(!e||"[object Date]"!==De.call(e))},isArray:Q,isError:Ve,isString:We,isNumber:He,isBoolean:je,toISOString:Xe,arrForEach:J,arrIndexOf:Ge,arrMap:function(e,n,t){if(e){if(e.map)return e.map(n,t);var r=e.length,i=t||e,o=Array(r);try{for(var a=0;a<r;a++)a in e&&(o[a]=n.call(i,e[a],e))}catch(s){}}return o},arrReduce:function(e,n,t){var r;if(e){if(e.reduce)return e.reduce(n,t);var i=e.length,o=0;if(3<=arguments.length)r=t;else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=n(r,e[o],o,e)),o++}return r},strTrim:Z,objCreate:A,objKeys:Ze,objDefineAccessors:u,addEventHandler:Gt,dateNow:Ye,isIE:Ln,disableCookies:function(){wt(null).setEnabled(!1)},newGuid:Jt,perfNow:Zt,newId:Yt,randomValue:qt,random32:Vt,mwcRandomSeed:function(e){e?zt(e):Kt()},mwcRandom32:Wt,generateW3CId:$t},yr="version",mr="properties";function xr(){var e=vr.call(this)||this;return e.pluginVersionStringArr=[],e.pluginVersionString="",y(xr,e,function(s,u){s.logger&&s.logger.queue||(s.logger=new qn({loggingLevelConsole:X.LoggingSeverity.CRITICAL})),s.initialize=function(r,i,o,a){$(s,function(){return"AppInsightsCore.initialize"},function(){if(r){r.endpointUrl||(r.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var e=r.propertyStorageOverride;if(e&&(!e.getProperty||!e.setProperty))throw Error("Invalid property storage override passed.");r.channels&&J(r.channels,function(e){e&&J(e,function(e){e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))})})}s.getWParam=function(){return"undefined"!=typeof document?0:-1},i&&J(i,function(e){e&&e.identifier&&e.version&&(e=e.identifier+"="+e.version,s.pluginVersionStringArr.push(e))}),s.pluginVersionString=s.pluginVersionStringArr.join(";");try{u.initialize(r,i,o,a),s.pollInternalLogs("InternalLog")}catch(t){var e=s.logger,n=Nn(t);~n.indexOf("channels")&&(n+="\n - Channels must be provided through config.channels only!"),e.throwInternal(X.LoggingSeverity.CRITICAL,ne.FailedToInitializeSDK,"SDK Initialization Failed - no telemetry will be sent: "+n)}},function(){return{config:r,extensions:i,logger:o,notificationManager:a}})},s.track=function(t){$(s,function(){return"AppInsightsCore.track"},function(){var e,n=t;n&&(n.timings=n.timings||{},n.timings.trackStart=te(),cr(n.latency)||(n.latency=ee.Normal),(e=n.ext=n.ext||{}).sdk=e.sdk||{},e.sdk.ver=tr,(e=n.baseData=n.baseData||{})[mr]||(e[mr]={}),(e=e[mr])[yr]||(e[yr]=""),""!==s.pluginVersionString&&(e[yr]=s.pluginVersionString)),u.track(n)},function(){return{item:t}},!t.sync)}}),e}n(xr,vr=L);var Cr=xr,Ir=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function Sr(e,n){void 0===n&&(n=Ir);var t=null;if(e)for(var r=e.split(","),i=0;i<r.length;i++)!function(e,n){if(void 0===n&&(n=Ir),e&&!(e.length<4)){for(var t=!1,r=e.substring(0,3).toString().toUpperCase(),i=0;i<n.length;i++)if(n[i]+":"==r&&e.length<=256){t=!0;break}return t}}(r[i],n)||(t?t+=","+r[i]:t=r[i]);return t}i.prototype.getExpId=function(){return this._propertiesConfig.expId?this._readExpIdFromCoreData(this._propertiesConfig.expId):this._readExpIdFromCookie()},i.prototype._getMetaDataFromDOM=function(e){var n={},t=Sn();if(t)for(var r=t&&t.querySelectorAll("meta"),i=0;i<r.length;i++){var o=r[i];o.name&&!o.name.toLowerCase().indexOf(e)&&(n[o.name.replace(e,"")]=o.content)}return n},i.prototype._setAppExpId=function(e){e!==this.appExpId&&(this.appExpId=Sr(e,this.flightIdNameSpaces))},i.prototype._getAppExpId=function(){return this.appExpId},i.prototype._readExpIdFromCookie=function(){var e=fr(this._cookieMgr,this.expIdCookieName);return this._setAppExpId(e),this._getAppExpId()},i.prototype._readExpIdFromCoreData=function(e){return this._setAppExpId(e),this._getAppExpId()},i.validateAppExpId=Sr,i._staticInit=void u(i.prototype,"expId",i.prototype.getExpId);var wr=i;function i(e,n){this.core=n,this.appExpId=null,this.flightIdNameSpaces=Ir.slice(0),this.expIdCookieName="Treatments",this._cookieMgr=wt(n),this._propertiesConfig=e;var t,n=Sn();n&&(t=n.documentElement,n&&(this.locale=t.lang)),this.env=e.env||this._getMetaDataFromDOM("awa-").env}var br=function(){},Er=(o.prototype.getLocalId=function(){return this._customLocalId||(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(e=fr(this._cookieMgr,"MUID"))&&this.setLocalId("t:"+e),undefined);var e},o.prototype.setLocalId=function(e){this._customLocalId=e},o.cookieSeparator="|",o.userCookieName="ai_user",o._staticInit=void u(o.prototype,"localId",o.prototype.getLocalId,o.prototype.setLocalId),o);function o(e,n,t){this.core=t,this._propertiesConfig=n;n=this._cookieMgr=wt(t,e);n&&n.isEnabled()&&(this._propertiesConfig.hashIdentifiers||this._propertiesConfig.dropIdentifiers||(t=fr(n,"MUID"))&&this.setLocalId("t:"+t),this._propertiesConfig.enableApplicationInsightsUser&&((t=fr(n,o.userCookieName))&&0<(t=t.split(o.cookieSeparator)).length&&(this.id=t[0]),this.id||(this.id=Yt(e&&!H(e.idLength)?e.idLength:22),t=Xe(new Date),this.accountAcquisitionDate=t,e=[this.id,t],t=this._propertiesConfig.cookieDomain||undefined,n.set(o.userCookieName,e.join(o.cookieSeparator),31536e3,t)))),"undefined"!=typeof navigator&&(this.locale=(e=navigator).userLanguage||e.language)}var Tr="([\\d,.]+)",_r="Unknown",Or=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:"Edg/",b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],Lr=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function Nr(e,n){return~n.indexOf(e)}Rr._staticInit=void u(Rr.prototype,"userConsent",Rr.prototype.getUserConsent);var Pr=Rr;function Rr(e,n){var r=wt(n),i=e||{};y(Rr,this,function(a){var e,n,t=En();t&&(e=t.hostname)&&(a.domain="file:"===t.protocol?"local":e),i.populateBrowserInfo&&(t=i.userAgent,e=(i.userAgentData||{}).brands,(n=bn())&&(t=t||n.userAgent||"",e=e||(n.userAgentData||{}).brands),function(e,n){if(Q(n))try{for(var t=0;t<Lr.length;t++){var r=function(e,n){for(var t=0;t<n.length;t++)if(e==n[t].brand)return n[t].version;return null}(Lr[t].br,n);if(r)return a.browser=Lr[t].b,a.browserVer=r}}catch(o){}var i;e&&(i=function(e){if(e)for(var n=0;n<Or.length;n++)if(Nr(Or[n].ua,e))return Or[n].b;return _r}(e),a.browser=i,a.browserVer=function(e){if("MSIE"!==i)return t=e,"Safari"===(n=i)?n="Version":"Edge"===n&&Nr("Edg/",t)&&(n="Edg"),(r=t.match(RegExp(n+"/"+Tr)))||"Opera"===n&&(r=t.match(/OPR\/([\d,.]+)/))?r[1]:_r;var n=e,t=n.match(/MSIE ([\d,.]+)/);if(t)return t[1];var r=n.match(/rv:([\d,.]+)/);return r?r[1]:void 0}(e))}(t,e),n={h:0,w:0},(t=In())&&t.screen&&(n.h=screen.height,n.w=screen.width),e=n,a.screenRes=e.w+"X"+e.h),a.getUserConsent=function(){return i.userConsented||!!fr(r,i.userConsentCookieName||"MSCC")},a.getUserConsentDetails=function(){try{var e=i.callback;if(e&&e.userConsentDetails){var n=e.userConsentDetails();if(n)return JSON.stringify({Required:n.Required||!1,Analytics:n.Analytics||!1,SocialMedia:n.SocialMedia||!1,Advertising:n.Advertising||!1})}}catch(t){}return null},u(a,"userConsent",a.getUserConsent)})}var c={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},Mr={5.1:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},Ar="([\\d,.]+)",kr="([\\d,_,.]+)",Dr="Unknown",Fr=[{r:c.WINPHONE,os:"Windows Phone"},{r:c.WINRT,os:"Windows RT"},{r:c.WIN,os:"Windows"},{r:c.IOS,os:"iOS"},{r:c.ANDROID,os:"Android"},{r:c.LINUX,os:"Linux"},{r:c.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:c.OSX,os:"Mac OS X"}];function Ur(e,n){n=e.match(RegExp(n+" "+Ar));return n?Mr[n[1]]||n[1]:Dr}function Br(e){return~e.indexOf(".")?".":~e.indexOf("_")?"_":null}var zr=function(e){var n,t;e.populateOperatingSystemInfo&&(t=bn()||{},n=e.userAgent||t.userAgent||"",e=e.userAgentData||t.userAgentData||{},n&&(t=function(e){for(var n=0;n<Fr.length;n++){var t=Fr[n];if(t.r&&e.match(t.r))return t.os;if(t.s&&~e.indexOf(t.s))return t.os}return Dr}(n.toLowerCase()),this.name=t,this.ver=function(e,n){if("Windows"===n)return Ur(e,"Windows NT");if("Android"===n)return Ur(e,n);if("Mac OS X"===n){var t=e.match(RegExp("Mac OS X "+kr));if(t){t=t[1].replace(/_/g,".");if(t)return(r=Br(t))?t.split(r)[0]:t}return Dr}if("iOS"!==n)return Dr;var r=e.match(RegExp("OS "+kr));if(r){t=r[1].replace(/_/g,".");if(t)return(n=Br(t))?t.split(n)[0]:t}return Dr}(n,t)),this.name&&this.name!==Dr||!We(e.platform)||(this.name=e.platform))},Kr=(qr.prototype.getMsfpc=function(){return fr(this._cookieMgr,"MSFPC")},qr.prototype.getAnid=function(){return fr(this._cookieMgr,"ANON").slice(0,34)},qr._staticInit=(u(qr.prototype,"msfpc",qr.prototype.getMsfpc),void u(qr.prototype,"anid",qr.prototype.getAnid)),qr);function qr(e,n){this.core=n,e.serviceName&&(this.serviceName=e.serviceName),this._cookieMgr=wt(n)}var Vr=function(e){this.popSample=100,this.eventFlags=0,e.hashIdentifiers&&(this.eventFlags=1048576|this.eventFlags),e.dropIdentifiers&&(this.eventFlags=2097152|this.eventFlags)},Wr=function(){var e=(new Date).getTimezoneOffset(),n=0<(t=(e-(e=e%60))/60)?"-":"+",t=Math.abs(t),e=Math.abs(e);this.tz=n+(t<10?"0"+t:t.toString())+":"+(e<10?"0"+e:e.toString())},Hr=function(){},jr=(Xr.prototype.setId=function(e){this.customId=e},Xr._staticInit=void u(Xr.prototype,"id",Xr.prototype.getId=function(){return We(this.customId)?this.customId:this.automaticId},Xr.prototype.setId),Xr);function Xr(){}var Gr=function(e,n,t,r){e.enableApplicationInsightsTrace&&(this.traceId=n||$t(),this.parentId=t,this.name=r,(e=En())&&e.pathname&&(this.name=e.pathname))},l=r({id:"id",ver:"ver",appName:"name",locale:"locale",expId:"expId",env:"env"}),f=r({domain:"domain",browser:"browser",browserVer:"browserVer",screenRes:"screenRes",userConsent:"userConsent",consentDetails:"consentDetails"}),d=r({locale:"locale",localId:"localId",id:"id"}),Qr=r({osName:"name",ver:"ver"}),Jr=r({ver:"ver",seq:"seq",installId:"installId",epoch:"epoch"}),Zr=r({msfpc:"msfpc",anid:"anid",serviceName:"serviceName"}),Yr=r({popSample:"popSample",eventFlags:"eventFlags"}),$r=r({tz:"tz"}),ei=r({sessionId:"sesId"}),x=r({localId:"localId",deviceClass:"deviceClass",make:"make",model:"model"}),ni=r({role:"role",roleInstance:"roleInstance",roleVer:"roleVer"}),ti=r({traceId:"traceID",traceName:"name",parentId:"parentID"}),C=r({UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SdkExt:"sdk",IntWebExt:"intweb",UtcExt:"utc",LocExt:"loc",CloudExt:"cloud"}),ri="MicrosoftApplicationsTelemetryDeviceId";si.prototype.getSequenceId=function(){return++this._sequenceId};var ii,oi,ai=si;function si(e,n){this._sequenceId=0;var t,r,i,o=e.propertyStorageOverride,n=(this.seq=this._sequenceId,this.epoch=Vt(!1).toString(),wt(n,e));n.isEnabled()||o?(e=n,i=ri,e=(o?o.getProperty(i)||"":fr(e,i))||Jt(),i=n,t=ri,r=e,o?o.setProperty(t,r):i.set(t,r,31536e3),this.installId=e):n.purge(ri)}function ui(){return ii=ii===undefined?!!li(oi.LocalStorage):ii}function ci(){return ui()?li(oi.LocalStorage):null}function li(e){var n,t,r=null;try{var i=R();if(!i)return null;t=new Date,(r=e===oi.LocalStorage?i.localStorage:i.sessionStorage)&&m(r.setItem)&&(r.setItem(t,t),n=r.getItem(t)!==t,r.removeItem(t),n&&(r=null))}catch(o){r=null}return r}function fi(e,n,t){var r=ci();if(null!==r)try{r.setItem(n,t)}catch(i){ii=!1,e.throwInternal(X.LoggingSeverity.CRITICAL,ne.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+i)}}function di(e,n){var t=ci();if(null!==t)try{return t.getItem(n)}catch(r){ii=!1,e.throwInternal(X.LoggingSeverity.CRITICAL,ne.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+r)}return null}(c=oi=oi||{})[c.LocalStorage=0]="LocalStorage",c[c.SessionStorage=1]="SessionStorage",I.acquisitionSpan=864e5,I.renewalSpan=18e5,I.cookieUpdateInterval=6e4,I.cookieNameConst="ai_session";var gi=I;function I(e,n){var u,c,l=Kn(e),f=wt(e);y(I,this,function(a){var e,r={sessionRenewalMs:(e=n).sessionRenewalMs&&function(){return e.sessionRenewalMs},sessionExpirationMs:e.sessionExpirationMs&&function(){return e.sessionExpirationMs},cookieDomain:e.cookieDomain&&function(){return e.cookieDomain},namePrefix:e.namePrefix&&function(){return e.namePrefix},sessionAsGuid:function(){return e.sessionAsGuid},idLength:function(){return e.idLength||22}};function i(e){var n,t,r=a.automaticSession,e=e.split("|");0<e.length&&r.setId(e[0]);try{1<e.length&&(n=+e[1],r.acquisitionDate=+new Date(n),r.acquisitionDate=0<r.acquisitionDate?r.acquisitionDate:0),2<e.length&&(t=+e[2],r.renewalDate=+new Date(t),r.renewalDate=0<r.renewalDate?r.renewalDate:0)}catch(i){l.throwInternal(X.LoggingSeverity.CRITICAL,ne.ErrorParsingAISessionCookie,"Error parsing ai_session cookie, session will be reset: "+i)}0===r.renewalDate&&l.throwInternal(X.LoggingSeverity.WARNING,ne.SessionRenewalDateIsZero,"AI session renewal date is 0, session will be reset.")}function o(){var e=a.automaticSession,n=(new Date).getTime(),t=a.config.sessionAsGuid();!H(t)&&t?je(t)?e.setId(dr()):e.setId(dr(t)):e.setId(Yt(r&&r.idLength?r.idLength():22)),e.acquisitionDate=n,e.renewalDate=n,s(e.getId(),e.acquisitionDate,e.renewalDate),ui()||l.throwInternal(X.LoggingSeverity.WARNING,ne.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}function s(e,n,t){var r=n+a.config.sessionExpirationMs(),i=t+a.config.sessionRenewalMs(),o=new Date,e=[e,n,t],n=(r<i?o.setTime(r):o.setTime(i),a.config.cookieDomain?a.config.cookieDomain():null);f.set(c(),e.join("|")+";expires="+o.toUTCString(),null,n),u=(new Date).getTime()}m(n.sessionExpirationMs)||(r.sessionExpirationMs=function(){return I.acquisitionSpan}),m(n.sessionRenewalMs)||(r.sessionRenewalMs=function(){return I.renewalSpan}),a.config=r,c=function(){return a.config.namePrefix&&a.config.namePrefix()?I.cookieNameConst+a.config.namePrefix():I.cookieNameConst},a.automaticSession=new jr,a.update=function(){a.automaticSession.getId()||(e=c(),(e=Et(null)?fr(wt(null),e):"")&&m(e.split)?i(e):(e=di(l,c()))&&i(e),a.automaticSession.getId()||o());var e=a.automaticSession,n=a.config,t=(new Date).getTime(),r=t-e.acquisitionDate>n.sessionExpirationMs(),n=t-e.renewalDate>n.sessionRenewalMs();r||n?o():(!(r=u)||I.cookieUpdateInterval<t-r)&&(e.renewalDate=t,s(e.getId(),e.acquisitionDate,e.renewalDate))},a.backup=function(){var e=a.automaticSession,n=e.getId(),t=e.acquisitionDate,e=e.renewalDate;fi(l,c(),[n,t,e].join("|"))}})}var pi,S=We,vi=(w.prototype.getSessionId=function(){var e=this.session;if(e&&S(e.customId))return e.customId;var n=this.sessionManager,n=(n.update(),n.automaticSession);return n&&(n=n.getId())&&S(n)&&(e.automaticId=n),e.automaticId},w.prototype.applyApplicationContext=function(e){var n=this.app,e=e.ext[C.AppExt];v(e,l.id,n.id,S),v(e,l.ver,n.ver,S),v(e,l.appName,n.name,S),v(e,l.locale,n.locale,S),v(e,l.expId,n.getExpId(),S),v(e,l.env,n.env,S)},w.prototype.applyUserContext=function(e){var n=this.user,e=e.ext[C.UserExt];v(e,d.localId,n.getLocalId(),S),v(e,d.locale,n.locale,S),v(e,d.id,n.id,S)},w.prototype.applyWebContext=function(e){var n=this.web,e=e.ext[C.WebExt];v(e,f.domain,n.domain,S),v(e,f.browser,n.browser,S),v(e,f.browserVer,n.browserVer,S),v(e,f.screenRes,n.screenRes,S),e[f.userConsent]=n.getUserConsent(),e[f.consentDetails]=n.getUserConsentDetails()},w.prototype.applyOsContext=function(e){var n=this.os,e=e.ext[C.OSExt];v(e,Qr.osName,n.name,S),v(e,Qr.ver,n.ver,S)},w.prototype.applySdkContext=function(e){var n=this.sdk,e=e.ext[C.SdkExt];e[Jr.seq]=n.getSequenceId(),e[Jr.epoch]=n.epoch,v(e,Jr.installId,n.installId,S)},w.prototype.applyIntWebContext=function(e){var n=this.intWeb,e=e.ext[C.IntWebExt];v(e,Zr.msfpc,n.getMsfpc(),S),v(e,Zr.anid,n.getAnid(),S),v(e,Zr.serviceName,n.serviceName,S)},w.prototype.applyUtcContext=function(e){var n=this.utc,e=e.ext[C.UtcExt];e[Yr.popSample]=n.popSample,0<n.eventFlags&&(e[Yr.eventFlags]=n.eventFlags)},w.prototype.applyLocContext=function(e){e.ext[C.LocExt][$r.tz]=this.loc.tz},w.prototype.applySessionContext=function(e){e.ext[C.AppExt][ei.sessionId]=this.getSessionId()},w.prototype.applyDeviceContext=function(e){var n=this.device,e=e.ext[C.DeviceExt];v(e,x.localId,n.localId,S),v(e,x.make,n.make,S),v(e,x.model,n.model,S),v(e,x.deviceClass,n.deviceClass,S)},w.prototype.applyCloudContext=function(e){var n=this.cloud,e=e.ext[C.CloudExt];v(e,ni.role,n.role,S),v(e,ni.roleInstance,n.roleInstance,S),v(e,ni.roleVer,n.roleVer,S)},w.prototype.applyAITraceContext=function(e){var n=this.telemetryTrace,e=e.ext[C.TraceExt];v(e,ti.traceId,n.traceId,S),v(e,ti.traceName,n.name,S),v(e,ti.parentId,n.parentId,S)},w);function w(e,n,t){var r=this;r.app=new wr(n,t),r.cloud=new br,r.user=new Er(e,n,t),r.os=new zr(n),r.web=new Pr(n,t),r.sdk=new ai(e,t),r.intWeb=new Kr(n,t),r.utc=new Vr(n),r.loc=new Wr,r.device=new Hr,r.telemetryTrace=new Gr(n),r.sessionManager=new gi(t,n),r.session=new jr}function hi(){var a,r=pi.call(this)||this,s=(r.identifier="SystemPropertiesCollector",r.priority=3,r.version="3.1.11",{});return y(hi,r,function(o,e){o.initialize=function(e,n,t){pi.prototype.initialize.call(r,e,n,t),a=new vi(e,o._getTelCtx().getExtCfg(o.identifier),n)},o.processTelemetry=function(e,n){pr(e,o.identifier),n=o._getTelCtx(n);var t,r,i=e.ext=e.ext||{};e.data=e.data||{},i[C.AppExt]=i[C.AppExt]||{},i[C.UserExt]=i[C.UserExt]||{},i[C.WebExt]=i[C.WebExt]||{},i[C.OSExt]=i[C.OSExt]||{},i[C.SdkExt]=i[C.SdkExt]||{},i[C.IntWebExt]=i[C.IntWebExt]||{},i[C.UtcExt]=i[C.UtcExt]||{},i[C.LocExt]=i[C.LocExt]||{},i[C.DeviceExt]=i[C.DeviceExt]||{},i[C.TraceExt]=i[C.TraceExt]||{},i[C.CloudExt]=i[C.CloudExt]||{},a.applyApplicationContext(e),a.applyUserContext(e),a.applyWebContext(e),a.applyOsContext(e),a.applySdkContext(e),a.applyIntWebContext(e),a.applyUtcContext(e),a.applyLocContext(e),a.applySessionContext(e),a.applyDeviceContext(e),a.applyAITraceContext(e),a.applyCloudContext(e),J(Ze(i),function(e){0===Ze(i[e]).length&&delete i[e]}),t=s,r=e.data,t&&Ke(t,function(e,n){r[e]||(r[e]=n)}),o.processNext(e,n)},o.getPropertiesContext=function(){return a},o.setProperty=function(e,n){s[e]=n}}),r}n(hi,pi=Pe);var yi=hi,mi="REAL_TIME",xi="POST",Ci="drop",r="requeue",Ii="application/x-json-stream",Si="cache-control",wi="content-type",bi="kill-duration",Ei="time-delta-millis",Ti="AuthMsaDeviceTicket",_i="msfpc";function Oi(e){e=(e.ext||{}).intweb;return e&&ur(e[_i])?e[_i]:null}function Li(e){for(var n=null,t=0;null===n&&t<e.length;t++)n=Oi(e[t]);return n}Pi.create=function(e,n){return new Pi(e,n)};var Ni=Pi;function Pi(r,e){var i=e?[].concat(e):[],e=this,o=Li(i);e.iKey=function(){return r},e.Msfpc=function(){return o||""},e.count=function(){return i.length},e.events=function(){return i},e.addEvent=function(e){return!!e&&(i.push(e),o=o||Oi(e),!0)},e.split=function(e,n){var t;return e<i.length&&(t=i.length-e,j(n)||(t=n<t?n:t),t=i.splice(e,t),o=Li(i)),new Pi(r,t)}}var Ri="metadata",Mi=/\./,Ai=function Xo(n,e,x,t){var o="baseData",C=!!t,I=e,S={};y(Xo,this,function(y){function m(e,f,d,g,p,v,h){Ke(e,function(e,n){if(n||ur(n)){var t,r=d,i=e,o=p,a=f;if(C&&!g&&Mi.test(e)){var s=e.split("."),u=s.length;if(1<u){for(var o=o&&o.slice(),c=0;c<u-1;c++){var l=s[c],a=a[l]=a[l]||{};r+="."+l,o&&o.push(l)}i=s[u-1]}}(e=g&&((t=S[e=r])===undefined&&(7<=e.length&&(t=qe(e,"ext.metadata")||qe(e,"ext.web")),S[e]=t),t)||!I||!I.handleField(r,i)?function(e,n){if(!e&&!ur(e)||"string"!=typeof i)return null;var t=typeof e;if("string"==t||"number"==t||"boolean"==t||Q(e))e={value:e};else if("object"!=t||e.hasOwnProperty("value")){if(j(e.value)||""===e.value||!We(e.value)&&!He(e.value)&&!je(e.value)&&!Q(e.value))return null}else e={value:n?JSON.stringify(e):e};if(Q(e.value)&&!(0<e.value.length))return null;if(!j(e.kind)){if(Q(e.value)||!((t=e.kind)===nr.NotSet||nr.NotSet<t&&t<=nr.Pii_IPV4AddressLegacy||t===nr.CustomerContent_GenericContent))return null;e.value=e.value.toString()}return e}(n,x):I.value(r,i,n,x))&&(t=e.value,a[i]=t,v&&v(o,i,e),h&&"object"==typeof t&&!Q(t)&&((e=o)&&(e=o.slice()).push(i),m(n,t,r+"."+i,g,e,v,h)))}})}y.createPayload=function(e,n,t,r,i,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:n,isSync:t,isBeacon:r,sendType:o,sendReason:i}},y.appendPayload=function(p,v,h){var e=p&&v&&!p.overflow;return e&&$(n,function(){return"Serializer:appendPayload"},function(){for(var e=v.events(),n=p.payloadBlob,t=p.numEvents,r=!1,i=[],o=[],a=p.isBeacon,s=a?65e3:3984588,u=a?65e3:2e6,c=0,l=0;c<e.length;){var f=e[c];if(f){if(h<=t){p.overflow=v.split(c);break}var d=y.getEventBlob(f);if(d&&d.length<=u){var g=d.length;if(s<n.length+g){p.overflow=v.split(c);break}n&&(n+="\n"),n+=d,20<++l&&(n.substr(0,1),l=0),r=!0,t++}else(d?i:o).push(f),e.splice(c,1),c--}c++}i&&0<i.length&&p.sizeExceed.push(Ni.create(v.iKey(),i)),o&&0<o.length&&p.failedEvts.push(Ni.create(v.iKey(),o)),r&&(p.batches.push(v),p.payloadBlob=n,p.numEvents=t,a=v.iKey(),-1===Ge(p.apiKeys,a)&&p.apiKeys.push(a))},function(){return{payload:p,theBatch:{iKey:v.iKey(),evts:v.events()},max:h}}),e},y.getEventBlob=function(i){try{return $(n,function(){return"Serializer.getEventBlob"},function(){var e={},r=(e.name=i.name,e.time=i.time,e.ver=i.ver,e.iKey="o:"+function(e){if(e){var n=e.indexOf("-");if(-1<n)return e.substring(0,n)}return""}(i.iKey),{}),n=i.ext,n=(n&&(e.ext=r,Ke(n,function(e,n){m(n,r[e]={},"ext."+e,!0,null,null,!0)})),e.data={}),t=(n.baseType=i.baseType,n[o]={});return m(i.baseData,t,o,!1,[o],function(e,n,t){ki(r,e,n,t)},!0),m(i.data,n,"data",!1,[],function(e,n,t){ki(r,e,n,t)},!0),JSON.stringify(e)},function(){return{item:i}})}catch(e){return null}}})};function ki(e,n,t,r){if(r&&e){var i=lr(r.value,r.kind,r.propertyType);if(-1<i){var o=e[Ri],a=(a=(o=o||(e[Ri]={f:{}})).f)||(o.f={});if(n)for(var s=0;s<n.length;s++)var u=n[s],a=(a[u]||(a[u]={f:{}}),a[u].f||(a[u].f={}));a=a[t]={},Q(r.value)?a.a={t:i}:a.t=i}}}function Di(){}Di.shouldRetryForStatus=function(e){return!(300<=e&&e<500&&408!=e&&429!=e||501==e||505==e)},Di.getMillisToBackoffForRetry=function(e){return Math.min(Math.pow(2,e)*(2400+Math.floor(1200*Math.random())),6e5)};var Fi=Di,Ui=function Go(){var u={};y(Go,this,function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{o=e.split(","),a=[],o&&J(o,function(e){a.push(Z(e))});var t=a;if("this-request-only"===n)return t;for(var r=1e3*parseInt(n,10),i=0;i<t.length;++i)u[t[i]]=Ye()+r}catch(s){return[]}var o,a;return[]},e.isTenantKilled=function(e){var n=u,e=Z(e);return n[e]!==undefined&&n[e]>Ye()||(delete n[e],!1)}})},Bi=function Qo(){var n=!0,t=!0,r=!0,i="use-collector-delta",o=!1;y(Qo,this,function(e){e.allowRequestSending=function(){return n},e.firstRequestSent=function(){r&&(r=!1,o||(n=!1))},e.shouldAddClockSkewHeaders=function(){return t},e.getClockSkewHeaderValue=function(){return i},e.setClockSkew=function(e){o||(e?(i=e,o=t=!0):t=!1,n=!0)}})},zi="sendAttempt",Ki="&NoResponseBody=true",qi=((c={})[1]=r,c[100]=r,c[200]="sent",c[8004]=Ci,c[8003]=Ci,c),Vi={};function Wi(e){try{return e.responseText}catch(n){}return""}function Hi(e,n){var t=!1;if(e&&n){var r=Ze(e);if(r&&0<r.length)for(var i=n.toLowerCase(),o=0;o<r.length;o++){var a=r[o];if(a&&Ue(n,a)&&a.toLowerCase()==i){t=!0;break}}}return t}function ji(e,n,t,r){n&&t&&0<t.length&&(r&&Vi[n]?(e.hdrs[Vi[n]]=t,e.useHdrs=!0):e.url+="&"+n+"="+t)}Vi.AuthMsaDeviceTicket="AuthMsaDeviceTicket";var Xi,Gi=function Jo(b,e,E,l){this._responseHandlers=[];var T,_,O,f,L,N,P="?cors=true&content-type="+Ii,R=new Ui,M=!1,A=new Bi,k=!1,D=0,F=!0,U=[],B={},z=[],K=null,q=!1,V=!1,W=!1;y(Jo,this,function(h){var g=!0;function a(e,n){for(var t=0,r=null,i=0;null==r&&i<e.length;)1===(t=e[i])?(yn=null===yn&&(yn="undefined"!=typeof XDomainRequest)&&Rn()?yn&&!xn(Y("XMLHttpRequest"),"withCredentials"):yn)?r=o:Rn()&&(r=u):2===t&&function(e){var n=!1;try{var n=!!Y("fetch"),t=Y("Request");n&&e&&t&&(n=xn(t,"keepalive"))}catch(r){}return n}(n)?r=s:k&&3===t&&Pn()&&(r=c),i++;return r?{_transport:t,_isSync:n,sendPOST:r}:null}function o(e,n,t){var r=new XDomainRequest;r.open(xi,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=Wi(r);y(n,200,{},e),S(e)},r.onerror=function(){y(n,400,{})},r.ontimeout=function(){y(n,500,{})},r.onprogress=function(){},t?r.send(e.data):T._setTimeoutOverride(function(){r.send(e.data)},0)}function s(e,r,n){var t,i=e.urlString,o=!1,a=!1;(t={body:e.data,method:xi}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0;n&&(t.keepalive=!0,2===e._sendReason&&(o=!0,i+=Ki)),g&&(t.credentials="include"),e.headers&&0<Ze(e.headers).length&&(t.headers=e.headers),fetch(i,t).then(function(e){var t={},n="";e.headers&&e.headers.forEach(function(e,n){t[n]=e}),e.body&&e.text().then(function(e){n=e}),a||(a=!0,y(r,e.status,t,n),S(n))})["catch"](function(e){a||(a=!0,y(r,0,{}))}),o&&!a&&(a=!0,y(r,200,{})),!a&&0<e.timeout&&T._setTimeoutOverride(function(){a||(a=!0,y(r,500,{}))},e.timeout)}function u(e,o,n){var t=e.urlString;function a(e,n,t){return!e[t]&&n&&n.getResponseHeader&&(n=n.getResponseHeader(t))&&(e[t]=Z(n)),e}function r(e,n){var t,r,i;y(o,e.status,(i={},(e=e).getAllResponseHeaders?(t=e.getAllResponseHeaders(),r={},We(t)&&J(Z(t).split(/[\r\n]+/),function(e){var n,t;e&&(-1!=(t=e.indexOf(": "))?(n=Z(e.substring(0,t)).toLowerCase(),t=Z(e.substring(1+t)),r[n]=t):r[Z(e)]=1)}),r):(i=a(i,e,Ei),i=a(i,e,bi),a(i,e,"kill-duration-seconds"))),n)}n&&e.disableXhrSync&&(n=!1),i=xi,t=t,s=g,n=n,c=e.timeout,u=!0,void 0===n&&(n=!1),l=new XMLHttpRequest,u&&d(l,rr,u),s&&d(l,ir,s),l.open(i,t,!n),s&&d(l,ir,s),!n&&c&&d(l,or,c);var i,s,u,c,l,f=l;function d(e,n,t){try{e[n]=t}catch(r){}}Ke(e.headers,function(e,n){f.setRequestHeader(e,n)}),f.onload=function(){var e=Wi(f);r(f,e),S(e)},f.onerror=function(){r(f)},f.ontimeout=function(){r(f)},f.send(e.data)}function y(e,n,t,r){try{e(n,t,r)}catch(i){T.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.SendPostOnCompleteFailure,Nn(i))}}function c(e,n,t){var r=200,i=e._thePayload,o=e.urlString+Ki;try{var a,s=bn();s.sendBeacon(o,e.data)||(i?(a=[],J(i.batches,function(e){if(a&&e&&0<e.count()){for(var n=e.events(),t=0;t<n.length;t++)if(!s.sendBeacon(o,K.getEventBlob(n[t]))){a.push(e.split(t));break}}else a.push(e.split(0))}),w(a,8003,i.sendType,!0)):r=0)}catch(u){T.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+u),r=0}finally{y(n,r,{},"")}}function m(e){return 2===e||3===e}function r(e){return V&&m(e)?2:e}function i(){return!M&&D<e}function t(){var e=z;return z=[],e}function d(e,n,t){return e&&0<e.length&&!M&&_[n]&&K&&(0!==n||i()&&(0<t||A.allowRequestSending()))}function p(e){var t={};return e&&J(e,function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}}),t}function x(a,s,u,c,l){if(a&&0!==a.length)if(M)w(a,1,c);else{c=r(c);try{var e=a,f=0!==c;$(O,function(){return"HttpManager:_sendBatches"},function(e){e&&(a=a.slice(0));for(var n=[],t=null,r=te(),e=_[c]||(f?_[1]:_[0]),i=(V||m(c)||e&&3===e._transport)&&!F&&k&&Pn();d(a,c,s);){var o=a.shift();o&&0<o.count()&&(R.isTenantKilled(o.iKey())?n.push(o):(t=t||K.createPayload(s,u,f,i,l,c),K.appendPayload(t,o,b)?null!==t.overflow&&(a=[t.overflow].concat(a),t.overflow=null,v(t,r,te(),l),r=te(),t=null):(v(t,r,te(),l),r=te(),a=[o].concat(a),t=null)))}t&&v(t,r,te(),l),0<a.length&&(z=a.concat(z)),w(n,8004,c)},function(){return{batches:p(e),retryCount:s,isTeardown:u,isSynchronous:f,sendReason:l,useSendBeacon:m(c),sendType:c}},!f)}catch(n){T.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.CannotSerializeObject,"Unexpected Exception sending batch: "+Nn(n))}}}function C(e,n,t){e[n]=e[n]||{},e[n][T.identifier]=t}function v(g,s,u,p){var c,l,f,d,v;g&&g.payloadBlob&&0<g.payloadBlob.length&&(c=!!h.sendHook,l=_[g.sendType],!m(g.sendType)&&g.isBeacon&&2===g.sendReason&&(l=_[2]||_[3]||l),d=W,!g.isBeacon&&3!==l._transport||(d=!1),f=function(e,n){var t={url:P,hdrs:{},useHdrs:!1},r=(t.hdrs=gr(t.hdrs,B),t.useHdrs=0<Ze(t.hdrs).length,ji(t,"client-id","NO_AUTH",n),ji(t,"client-version",tr,n),""),e=(J(e.apiKeys,function(e){0<r.length&&(r+=","),r+=e}),ji(t,"apikey",r,n),ji(t,"upload-time",Ye().toString(),n),function(e){for(var n=0;n<e.batches.length;n++){var t=e.batches[n].Msfpc();if(t)return encodeURIComponent(t)}return""}(e));ur(e)&&(t.url+="&ext.intweb.msfpc="+e),A.shouldAddClockSkewHeaders()&&ji(t,"time-delta-to-apply-millis",A.getClockSkewHeaderValue(),n),O.getWParam&&0<=(e=O.getWParam())&&(t.url+="&w="+e);for(var i=0;i<U.length;i++)t.url+="&"+U[i].name+"="+U[i].value;return t}(g,d),d=d||f.useHdrs,v=te(),$(O,function(){return"HttpManager:_doPayloadSend"},function(){for(var e=0;e<g.batches.length;e++)for(var n=g.batches[e].events(),t=0;t<n.length;t++){var r,i=n[t];q&&(C(r=i.timings=i.timings||{},"sendEventStart",v),C(r,"serializationStart",s),C(r,"serializationCompleted",u)),0<i[zi]?i[zi]++:i[zi]=1}w(g.batches,1e3+(p||0),g.sendType,!0);var o={data:g.payloadBlob,urlString:f.url,headers:f.hdrs,_thePayload:g,_sendReason:p,timeout:L},a=(H(N)||(o.disableXhrSync=!!N),d&&(Hi(o.headers,Si)||(o.headers[Si]="no-cache, no-store"),Hi(o.headers,wi)||(o.headers[wi]=Ii)),null);l&&(a=function(e){A.firstRequestSent();var n=function(e,n){var t,r,i=g,o=p,a=9e3,s=null,u=!1,c=!1;try{var l,f=!0;if(typeof e!==re){if(n&&(A.setClockSkew(n[Ei]),d=n[bi]||n["kill-duration-seconds"],J(R.setKillSwitchTenants(n["kill-tokens"],d),function(n){J(i.batches,function(e){e.iKey()===n&&(s=s||[],e=e.split(0),i.numEvents-=e.count(),s.push(e))})})),200==e||204==e)return void(a=200);(!Fi.shouldRetryForStatus(e)||i.numEvents<=0)&&(f=!1),a=9e3+e%1e3}f&&(a=100,l=i.retryCnt,0===i.sendType&&(l<E?(u=!0,I(function(){0===i.sendType&&D--,x(i.batches,l+1,i.isTeardown,V?2:i.sendType,5)},V,Fi.getMillisToBackoffForRetry(l))):(c=!0,V&&(a=8001))))}finally{if(!u){A.setClockSkew();var n=i,d=a,e=o,f=c;try{f&&T._backOffTransmission(),200===d&&(f||n.isSync||T._clearBackOff(),t=n.batches,q&&(r=te(),J(t,function(e){var n;e&&0<e.count()&&(e=e.events(),n=r,q&&J(e,function(e){C(e.timings=e.timings||{},"sendEventCompleted",n)}))}))),w(n.batches,d,n.sendType,!0)}finally{0===n.sendType&&(D--,5!==e&&h.sendQueuedRequests(n.sendType,e))}}w(s,8004,i.sendType)}},t=g.isTeardown||g.isSync;try{l.sendPOST(e,n,t),h.sendListener&&h.sendListener(o,e,t,g.isBeacon)}catch(r){T.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Nn(r)),y(n,0,{})}}),$(O,function(){return"HttpManager:_doPayloadSend.sender"},function(){var n,t;a&&(0===g.sendType&&D++,c&&!g.isBeacon&&3!==l._transport?(n={data:o.data,urlString:o.urlString,headers:gr({},o.headers),timeout:o.timeout,disableXhrSync:o.disableXhrSync},t=!1,$(O,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{h.sendHook(n,function(e){t=!0,F||e._thePayload||(e._thePayload=e._thePayload||o._thePayload,e._sendReason=e._sendReason||o._sendReason),a(e)},g.isSync||g.isTeardown)}catch(e){t||a(o)}})):a(o))})},function(){return{thePayload:g,serializationStart:s,serializationCompleted:u,sendReason:p}},g.isSync)),g.sizeExceed&&0<g.sizeExceed.length&&w(g.sizeExceed,8003,g.sendType),g.failedEvts&&0<g.failedEvts.length&&w(g.failedEvts,8002,g.sendType)}function I(e,n,t){n?e():T._setTimeoutOverride(e,t)}function S(e){var n=h._responseHandlers;try{for(var t,r=0;r<n.length;r++)try{n[r](e)}catch(i){T.diagLog().throwInternal(X.LoggingSeverity.CRITICAL,ne.PostResponseHandler,"Response handler failed: "+i)}e&&ur((t=JSON.parse(e)).webResult)&&ur(t.webResult[_i])&&f.set("MSFPC",t.webResult[_i],31536e3)}catch(o){}}function w(n,t,r,e){var i,o,a;n&&0<n.length&&l&&(i=l[ur(a=qi[t])||(a="oth",9e3<=t&&t<=9999?a="rspFail":8e3<=t&&t<=8999?a=Ci:1e3<=t&&t<=1999&&(a="send")),a])&&$(O,function(){return"HttpManager:_sendBatchesNotification"},function(){I(function(){try{i.call(l,n,t,o,r)}catch(e){T.diagLog().throwInternal(X.LoggingSeverity.CRITICAL,ne.NotificationException,"send request notification failed: "+e)}},e||o,0)},function(){return{batches:p(n),reason:t,isSync:o,sendSync:e,sendType:r}},!(o=0!==r))}h.initialize=function(e,n,t,r,i){P=e+P,W=!H((i=i||{}).avoidOptions)&&!i.avoidOptions,f=(O=n).getCookieMgr(),q=!O.config.disableEventTimings;var o,e=!!O.config.enableCompoundKey,n=(T=t,i.valueSanitizer),t=i.stringifyObjects,n=(H(i.enableCompoundKey)||(e=!!i.enableCompoundKey),L=i.xhrTimeout,N=i.disableXhrSync,k=!On(),K=new Ai(O,n,t,e),r),t=i.alwaysUseXhrOverride?r:null,e=i.alwaysUseXhrOverride?r:null;r||(F=!1,(o=En())&&o.protocol&&"file:"==o.protocol.toLowerCase()&&(g=!1),o=[],o=On()?[2,1]:[1,2,3],(i=i.transports)&&(He(i)?o=[i].concat(o):Q(i)&&(o=i.concat(o))),r=a(o,!1),n=a(o,!0),r||T.diagLog().warnToConsole("No available transport to send events")),(i={})[0]=r,i[1]=n||a([1,2,3],!0),i[2]=t||a([3,2],!0)||n||a([1],!0),i[3]=e||a([2,3],!0)||n||a([1],!0),_=i},h._getDbgPlgTargets=function(){return[_[0],R,K,_]},h.addQueryStringParameter=function(e,n){for(var t=0;t<U.length;t++)if(U[t].name===e)return void(U[t].value=n);U.push({name:e,value:n})},h.addHeader=function(e,n){B[e]=n},h.canSendRequest=function(){return i()&&A.allowRequestSending()},h.sendQueuedRequests=function(e,n){H(e)&&(e=0),V&&(e=r(e),n=2),d(z,e,0)&&x(t(),0,!1,e,n||0)},h.isCompletelyIdle=function(){return!M&&0===D&&0===z.length},h.setUnloading=function(e){V=e},h.addBatch=function(e){if(e&&0<e.count()){if(R.isTenantKilled(e.iKey()))return!1;z.push(e)}return!0},h.teardown=function(){0<z.length&&x(t(),0,!0,2,2)},h.pause=function(){M=!0},h.resume=function(){M=!1,h.sendQueuedRequests(0,4)},h.sendSynchronousBatch=function(e,n,t){e&&0<e.count()&&(j(n)&&(n=1),V&&(n=r(n),t=2),x([e],0,!1,n,t||0))}})},Qi=e?window:undefined,Ji="eventsDiscarded",Zi="overrideInstrumentationKey",Yi="maxEventRetryAttempts",$i="maxUnloadEventRetryAttempts";function eo(){var S,w,b,E,T,_,e=Xi.call(this)||this,O=(e.identifier="PostChannel",e.priority=1011,!(e.version="3.1.11")),L=[],N=null,P=!1,R=0,M=500,A=0,k=1e4,D={},t=mi,F=null,U=null,B=0,z=0,K={},q=-1,V=!0,W=!1,H=6,j=2;return y(eo,e,function(u,c){function l(e){"beforeunload"!==(e||In().event).type&&(W=!0,b.setUnloading(W)),d(2,2)}function f(e){W=!1,b.setUnloading(W)}function i(e,n){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=ee.Normal),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,V&&(e.ext=tn(e.ext),e.baseData&&(e.baseData=tn(e.baseData)),e.data&&(e.data=tn(e.data))),e.sync)if(B||P)e.latency=ee.RealTime,e.sync=!1;else if(b)return V&&(e=tn(e)),b.sendSynchronousBatch(Ni.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var t=e.latency,r=A,i=k,o=(t===ee.Immediate&&(r=R,i=M),!1);r<i?o=!v(e,n):(r=ee.Normal,i=20,t===ee.Immediate&&(r=ee.Immediate,i=1),o=!0,function(e,n,t,r){for(;t<=n;){var i=g(e,n,!0);if(i&&0<i.count()){var i=i.split(0,r),o=i.count();if(0<o)return t===ee.Immediate?R-=o:A-=o,C(Ji,[i],G.QueueFull),1}t++}return h(),0}(e.iKey,e.latency,r,i)&&(o=!v(e,n))),o&&x(Ji,[e],G.QueueFull)}function o(e,n,t){y(e,n,t),b.sendQueuedRequests(n,t)}function a(){0<=q&&y(q,0,_)&&b.sendQueuedRequests(0,_),0<R&&!U&&!P&&0<=(e=D[t][2])&&(U=s(function(){U=null,o(ee.Immediate,0,1),a()},e));var e=D[t][1];!F&&!N&&0<=e&&!P&&(0<A?F=s(function(){F=null,o(0===z?ee.RealTime:ee.Normal,0,1),z++,z%=2,a()},e):z=0)}function s(e,n){0===n&&B&&(n=1);var t=1e3;return B&&(t=Fi.getMillisToBackoffForRetry(B-1)),u._setTimeoutOverride(e,n*t)}function r(){null!==F&&(u._clearTimeoutOverride(F),F=null,z=0)}function d(e,n){r(),N&&(u._clearTimeoutOverride(N),N=null),P||o(ee.Normal,e,n)}function g(e,n,t){var r=K[n],n=(r||(n=ee.Normal,r=K[n]),r.iKeyMap[e]);return!n&&t&&(n=Ni.create(e),r.batches.push(n),r.iKeyMap[e]=n),n}function p(e,n){b.canSendRequest()&&!B&&(n=0<E&&E<A||n)&&null==N&&u.flush(e,null,20)}function v(e,n){var t=(e=V?tn(e):e).latency,r=g(e.iKey,t,!0);return r.addEvent(e)&&(t!==ee.Immediate?(A++,n&&0===e.sendAttempt&&p(!e.sync,0<T&&r.count()>=T)):R++,1)}function h(){for(var t=0,r=0,e=ee.Normal;e<=ee.Immediate;e++)!function(n){var e=K[n];e&&e.batches&&J(e.batches,function(e){n===ee.Immediate?t+=e.count():r+=e.count()})}(e);A=r,R=t}function y(r,e,n){var i=!1,t=0===e;return!t||b.canSendRequest()?$(u.core,function(){return"PostChannel._queueBatches"},function(){for(var n=[],t=ee.Immediate;r<=t;){var e=K[t];e&&e.batches&&0<e.batches.length&&(J(e.batches,function(e){b.addBatch(e)?i=i||e&&0<e.count():n=n.concat(e.events()),t===ee.Immediate?R-=e.count():A-=e.count()}),e.batches=[],e.iKeyMap={}),t--}0<n.length&&x(Ji,n,G.KillSwitch),i&&r<=q&&(q=-1,_=0)},function(){return{latency:r,sendType:e,sendReason:n}},!t):(q=0<=q?Math.min(q,r):r,_=Math.max(_,n)),i}function n(){D={REAL_TIME:[2,1,0],NEAR_REAL_TIME:[6,3,0],BEST_EFFORT:[18,9,0]}}function m(e,n){var t=u._notificationManager||{},r=t[e];if(r)try{r.apply(t,n)}catch(i){u.diagLog().throwInternal(X.LoggingSeverity.CRITICAL,ne.NotificationException,e+" notification failed: "+i)}}function x(e,n){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];n&&0<n.length&&m(e,[n].concat(t))}function C(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];e&&0<e.length&&J(e,function(e){e&&0<e.count()&&m(n,[e.events()].concat(t))})}function I(){T=S&&S.disableAutoBatchFlushLimit?0:Math.max(1500,k/6)}n(),K[ee.Immediate]={batches:[],iKeyMap:{}},K[ee.RealTime]={batches:[],iKeyMap:{}},K[ee.CostDeferred]={batches:[],iKeyMap:{}},K[ee.Normal]={batches:[],iKeyMap:{}},I(),b=new Gi(500,2,1,{requeue:function(e,n){var t=[],r=W?j:H;J(e,function(e){e&&0<e.count()&&J(e.events(),function(e){e&&(e.sync&&(e.latency=ee.Immediate,e.sync=!1),e.sendAttempt<r?(pr(e,u.identifier),i(e,!1)):t.push(e))})}),0<t.length&&x(Ji,t,G.NonRetryableStatus),W&&d(2,2)},send:function(e,n,t){e&&0<e.length&&m("eventsSendRequest",[1e3<=n&&n<=1999?n-1e3:0,!0!==t])},sent:function(e,n){C("eventsSent",e,n),a()},drop:function(e,n){C(Ji,e,8e3<=n&&n<=8999?n-8e3:G.Unknown)},rspFail:function(e){C(Ji,e,G.NonRetryableStatus),a()},oth:function(e,n){C(Ji,e,G.Unknown),a()}}),u._getDbgPlgTargets=function(){return[b]},u.initialize=function(o,a,s){$(a,function(){return"PostChannel:initialize"},function(){var n,e=a,t=(c.initialize(o,a,s),u.setInitialized(!1),u._getTelCtx()),t=(o.extensionConfig[u.identifier]=o.extensionConfig[u.identifier]||{},S=t.getExtCfg(u.identifier),u._setTimeoutOverride=S.setTimeoutOverride||setTimeout.bind(Qi),u._clearTimeoutOverride=S.clearTimeoutOverride||clearTimeout.bind(Qi),V=!S.disableOptimizeObj&&!!Y("chrome"),n=e.getWParam,e.getWParam=function(){var e=0;return S.ignoreMc1Ms0CookieProcessing&&(e|=2),e|n()},0<S.eventsLimitInMem&&(k=S.eventsLimitInMem),0<S.immediateEventLimit&&(M=S.immediateEventLimit),0<S.autoFlushEventsLimit&&(E=S.autoFlushEventsLimit),S.disableXhrSync,He(S[Yi])&&(H=S[Yi]),He(S[$i])&&(j=S[$i]),I(),S.httpXHROverride&&S.httpXHROverride.sendPOST&&(w=S.httpXHROverride),ur(o.anonCookieName)&&b.addQueryStringParameter("anoncknm",o.anonCookieName),b.sendHook=S.payloadPreprocessor,b.sendListener=S.payloadListener,S.overrideEndpointUrl||o.endpointUrl),e=(u._notificationManager=o.extensionConfig.NotificationManager,b.initialize(t,u.core,u,w,S),o.disablePageUnloadEvents||[]);Qt(l,e),function r(t,e){var n=!1;return e&&-1!==Ge(e,jt)||(n=Gt(jt,t)),!(n=(!e||-1===Ge(e,Ht))&&Gt(Ht,function(e){var n=Sn();t&&n&&"hidden"===n.visibilityState&&t(e)})||n)&&e?r(t):n}(l,e),function i(t,e){var n=!1;return e&&-1!==Ge(e,Xt)||(n=Gt(Xt,t)),!(n=(!e||-1===Ge(e,Ht))&&Gt(Ht,function(e){var n=Sn();t&&n&&"visible"===n.visibilityState&&t(e)})||n)&&e?i(t):n}(f,o.disablePageShowEvents),u.setInitialized(!0)},function(){return{coreConfig:o,core:a,extensions:s}})},u.processTelemetry=function(e,n){pr(e,u.identifier);var t=(n=u._getTelCtx(n)).getExtCfg(u.identifier),r=!!S.disableTelemetry;(r=t?r||!!t.disableTelemetry:r)||O||(S[Zi]&&(e.iKey=S[Zi]),t&&t[Zi]&&(e.iKey=t[Zi]),i(e,!0),W?d(2,2):a()),u.processNext(e,n)},u.setEventQueueLimits=function(e,n){k=0<e?e:1e4,E=0<n?n:0,I();var t=e<A;if(!t&&0<T)for(var r=ee.Normal;!t&&r<=ee.RealTime;r++){var i=K[r];i&&i.batches&&J(i.batches,function(e){e&&e.count()>=T&&(t=!0)})}p(!0,t)},u.teardown=function(){d(2,2),O=!0,b.teardown()},u.pause=function(){r(),P=!0,b.pause()},u.resume=function(){P=!1,b.resume(),a()},u.addResponseHandler=function(e){b._responseHandlers.push(e)},u._loadTransmitProfiles=function(e){r(),n(),t=mi,a(),Ke(e,function(e,n){var t,r=n.length;2<=r&&(t=2<r?n[2]:0,n.splice(0,r-2),n[1]<0&&(n[0]=-1),0<n[1]&&0<n[0]&&(r=n[0]/n[1],n[0]=Math.ceil(r)*n[1]),0<=t&&0<=n[1]&&t>n[1]&&(t=n[1]),n.push(t),D[e]=n)})},u.flush=function(e,n,t){void 0===e&&(e=!0),P||(r(),t=t||1,e?(y(ee.Normal,0,t),h(),null==N?N=s(function(){!function r(e,n){o(ee.Normal,0,n),function t(e){b.isCompletelyIdle()?e():N=s(function(){t(e)},.25)}(function(){e&&e(),0<L.length?N=s(function(){return r(L.shift(),n)},0):(N=null,0<A&&a())})}(n,t)},0):L.push(n)):(o(ee.Normal,1,t),null!==n&&n!==undefined&&n()))},u.setMsaAuthTicket=function(e){b.addHeader(Ti,e)},u.hasEvents=function(){return 0<A},u._setTransmitProfile=function(e){t!==e&&D[e]!==undefined&&(r(),t=e,a())},u._backOffTransmission=function(){B<4&&(B++,r(),a())},u._clearBackOff=function(){B&&(B=0,r(),a())}}),e}n(eo,Xi=Pe);var no,to=eo,r=function(t){this._setOverride=function(e,n){t.setOverride(e,n)},this._getOverride=function(e){return t.getOverride(e)}},ro=(n(io,no=r),io);function io(e,n){var e=no.call(this,e)||this,t=e;return t.setId=function(e){t._setOverride(l.id,e)},t.getId=function(){return t._getOverride(l.id)},t.setVer=function(e){t._setOverride(l.ver,e)},t.getVer=function(){return t._getOverride(l.ver)},t.setName=function(e){t._setOverride(l.appName,e)},t.getName=function(){return t._getOverride(l.appName)},t.setLocale=function(e){t._setOverride(l.locale,e)},t.getLocale=function(){return t._getOverride(l.locale)},t.setEnv=function(e){t._setOverride(l.env,e)},t.getEnv=function(){return t._getOverride(l.env)},t.setExpId=function(e){t._setOverride(l.expId,wr.validateAppExpId(e))},t.getExpId=function(){return t._getOverride(l.expId)},n&&(H(n.env)||t.setEnv(n.env),j(n.expId)||t.setExpId(n.expId)),e}n(so,oo=r);var oo,ao=so;function so(e){var e=oo.call(this,e)||this,n=e;return n.setRole=function(e){n._setOverride(ni.role,e)},n.getRole=function(){return n._getOverride(ni.role)},n.setRoleInstance=function(e){n._setOverride(ni.roleInstance,e)},n.getRoleInstance=function(){return n._getOverride(ni.roleInstance)},n.setRoleVer=function(e){n._setOverride(ni.roleVer,e)},n.getRoleVer=function(){return n._getOverride(ni.roleVer)},e}n(lo,uo=r);var uo,co=lo;function lo(e){var e=uo.call(this,e)||this,t=e;return t.setProperty=function(e,n){t._setOverride(e,n)},t.getProperty=function(e){return t._getOverride(e)},e}n(po,fo=r);var fo,go=po;function po(e){var e=fo.call(this,e)||this,n=e;return n.setLocalId=function(e){n._setOverride(x.localId,e)},n.getLocalId=function(){return n._getOverride(x.localId)},n.setDeviceClass=function(e){n._setOverride(x.deviceClass,e)},n.getDeviceClass=function(){return n._getOverride(x.deviceClass)},n.setMake=function(e){n._setOverride(x.make,e)},n.getMake=function(){return n._getOverride(x.make)},n.setModel=function(e){n._setOverride(x.model,e)},n.getModel=function(){return n._getOverride(x.model)},e}n(yo,vo=r);var vo,ho=yo;function yo(e){var e=vo.call(this,e)||this,n=e;return n.setTz=function(e){n._setOverride($r.tz,e)},n.getTz=function(){return n._getOverride($r.tz)},e}n(Co,mo=r);var mo,xo=Co;function Co(e,n){var e=mo.call(this,e)||this,t=e;return t.setOsName=function(e){t._setOverride(Qr.osName,e)},t.getOsName=function(){return t._getOverride(Qr.osName)},t.setVer=function(e){t._setOverride(Qr.ver,e)},t.getVer=function(){return t._getOverride(Qr.ver)},n&&n.userAgent&&n.populateOperatingSystemInfo&&(n=new zr(n),t.setOsName(n.name),t.setVer(n.ver)),e}function Io(e,n){if(e)for(var t=0;t<n.length;t++){var r=n[t];j(e[r])&&(e[r]={}),e=e[r]}return e}var So,wo=function(r){var o=[];this.setOverride=function(e,n){e&&o.push({key:e,value:n})},this.hasOverride=function(n){var t=!1;return J(o,function(e){e.key===n&&(t=!0)}),t},this.getOverride=function(n){var t;return J(o,function(e){e.key===n&&(t=e.value)}),t},this.applyOverrides=function(e,n){if(0<o.length)try{var i=Io(e,r);J(o,function(e){var n,t=i,r=e.key,e=e.value;t&&r&&(n=(r=r.split("."))[r.length-1],1<r.length&&(t=Io(t,r.slice(0,-1))),j(e)?H(t[n])||delete t[n]:t[n]=e)})}catch(t){}}},bo=(n(Eo,So=r),Eo);function Eo(e){var e=So.call(this,e)||this,n=e;return n.setLocalId=function(e){n._setOverride(d.localId,e)},n.getLocalId=function(){return n._getOverride(d.localId)},n.setLocale=function(e){n._setOverride(d.locale,e)},n.getLocale=function(){return n._getOverride(d.locale)},n.setId=function(e){n._setOverride(d.id,e)},n.getId=function(){return n._getOverride(d.id)},e}n(Oo,To=r);var To,_o=Oo;function Oo(e,n){var e=To.call(this,e)||this,t=e;return t.setDomain=function(e){t._setOverride(f.domain,e)},t.getDomain=function(){return t._getOverride(f.domain)},t.setBrowser=function(e){t._setOverride(f.browser,e)},t.getBrowser=function(){return t._getOverride(f.browser)},t.setBrowserVer=function(e){t._setOverride(f.browserVer,e)},t.getBrowserVer=function(){return t._getOverride(f.browserVer)},t.setScreenRes=function(e){t._setOverride(f.screenRes,e)},t.getScreenRes=function(){return t._getOverride(f.screenRes)},t.setUserConsent=function(e){t._setOverride(f.userConsent,e)},t.getUserContext=function(){return t._getOverride(f.userConsent)},n&&!H(n.userConsented)&&t.setUserConsent(n.userConsented),e}var Lo,No="ext",Po=function(e,n,t){var r=this,i={};function o(e){for(var n="",t=0;t<e.length;t++)n&&(n+="_"),n+=e[t];return H(i[n])&&(i[n]=new wo(e)),n?i[n]:null}r.data=new co(o(["data"])),r.app=new ro(o([No,C.AppExt]),n),r.user=new bo(o([No,C.UserExt])),r.os=new xo(o([No,C.OSExt]),n),r.web=new _o(o([No,C.WebExt]),n),r.device=new go(o([No,C.DeviceExt])),r.loc=new ho(o([No,C.LocExt])),r.cloud=new ao(o([No,C.CloudExt])),r.applyOverrides=function(n,t){var e=Ze(i);e&&0<e.length&&J(e,function(e){i[e].applyOverrides(n,t)})}};function Ro(){var r=Lo.call(this)||this,e=(r.identifier="OverridePropertiesPlugin",r.priority=4,r.version="3.1.11",r),i=null;return e._baseInit=function(e,n,t){i=new Po(0,r._getTelCtx().getExtCfg(r.identifier))},e.setProperty=function(e,n){i&&i.data.setProperty(e,n)},e.getOverrideContext=function(){return i},r}n(Ro,Lo=Pe),Ro.prototype.initialize=function(e,n,t){Lo.prototype.initialize.call(this,e,n,t),this._baseInit(e,n,t)},Ro.prototype.processTelemetry=function(e,n){pr(e,this.identifier),n=this._getTelCtx(n);var t=this.getOverrideContext();t&&t.applyOverrides(e,n),this.processNext(e,n)};var Mo=Ro;function Ao(e,n){if(n)for(var t=Ze(n),r=0;r<t.length;r++){var i=t[r];Ue(e,i)||(e[i]=n[i])}}function ko(e,n){var t=null;return n&&(n.endpointUrl&&(t=n.endpointUrl),(n=(n.extensionConfig||{})[e]||{}).overrideEndpointUrl&&(t=n.overrideEndpointUrl)),t}n(Uo,Do=Mt);var Do,Fo=Uo;function Uo(o,n){var e=Do.call(this)||this;return y(Uo,e,function(r,e){function t(e){var n=[];return e&&J(e,function(e){e.iKey===o&&n.push(e)}),n}function i(e){if(r[e]&&r.listeners)for(var n=0;n<r.listeners.length;n++){var t=r.listeners[n];if(t&&t[e])return 1}}n.addNotificationListener({eventsSent:function(e){i("eventsSent")&&0<(e=t(e)).length&&r.eventsSent(e)},eventsDiscarded:function(e,n){i("eventsDiscarded")&&0<(e=t(e)).length&&r.eventsDiscarded(e,n)},eventsSendRequest:function(e,n){i("eventsSendRequest")&&r.eventsSendRequest(e,n)},perfEvent:function(e){i("perfEvent")&&r.perfEvent(e)}})}),e}var Bo,c=function Zo(){var c,l,f,d,e,n,t,g={},p=[],v=null,r=[],i=[],h={};y(Zo,this,function(o){function a(e,n){var t;return void 0===n&&(n=null),e&&((e.pause&&e.teardown&&e.flush?i:r).push(e),t=e.identifier,g.extensionConfig[t]=g.extensionConfig[t]||{},Ao(g.extensionConfig[t],n)),e}function s(e){v||(o.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.SDKNotInitialized,"The Shared Manager is not yet created, the returned shared instance will be overwritten"),e=u(e||g.instrumentationKey||"_not_defined_",{}),c=new Mt,(v=new zo(o,o.diagLog(),c)).initialize(e,p),v.isInitialized()&&f&&(d=ko(f.identifier,e)))}function u(e,n){var t,r={},e=(r.instrumentationKey=e,r.channels=(e=n,t=[[]],g.channels&&J(g.channels,function(e,n){m(e)||(t[n]=t[n]||[],t[n]=t[n].concat(e))}),e&&e.channels&&J(e.channels,function(e,n){m(e)||(t[n]=t[n]||[],t[n]=t[n].concat(e))}),t),r),i=[];return g.extensions&&0<g.extensions.length&&(i=i.concat(g.extensions)),0<(i=e&&e.extensions&&0<e.extensions.length?i.concat(e.extensions):i).length&&(e.extensions=i),e.extensionConfig=e.extensionConfig||{},Ao(e.extensionConfig,g.extensionConfig),Ao(r,n),Ao(r,g),r}o.diagLog=function(){return e=e||new qn(g)},o.getCookieMgr=function(){return s(),v.getCookieMgr()},o.setCookieMgr=function(e){return s(),v.setCookieMgr(e)},o.getPerfMgr=function(){return t||g&&g.enablePerfMgr&&(t=new Hn(o.getNotifyMgr())),t},o.setPerfMgr=function(e){t=e},o.create=function(e,n){var t,r,i;v=null,e=(g=e||{}).channels||[[]],t=new to,r=t.identifier,i=!1,d=f=null,J(e,function(e){J(e,function(e){m(e)||(a(e),e.identifier===r&&(i=!0,f=e))})}),i||(e[0].push(t),f=a(t,g.channelConfiguration)),g.channels=e,t=n,p=[],l=a(new yi,g.propertyConfiguration),p.push(l),g.extensions&&J(g.extensions,function(e){m(e)||a(e)}),t&&J(t,function(e){e&&!m(e)&&p.push(a(e))})},o.getInst=function(e){return(h[e]||{}).inst},o.newInst=function(e,n,t){var r,i=o.getInst(e);return i?o.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.FailedToInitializeSDK,"Instance already exists for ["+e+"]"):(s(e),v.isInitialized()&&(n=u(e,n),f&&(r=ko(f.identifier,n),d&&r&&d!==r&&o.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.ErrorProvidedChannels,"The endpointUrl mismatch, shared Url ["+d+"] is different from configured ["+r+"] shared will be used!")),r=new Fo(e,c),i=new zo(o,o.diagLog(),r),h[e]={iKey:e,inst:i,notifyMgr:r},i.setPerfMgr(o.getPerfMgr()),i.initialize(n,(r=t,n=[],p&&0<p.length&&(n=n.concat(p)),n=r&&0<r.length?n.concat(r):n)),i.isInitialized()||(o.diagLog().throwInternal(X.LoggingSeverity.WARNING,ne.SDKNotInitialized,"Failed to initialize new instance!"),i=null,delete h[e]))),i},o.getSharedPlugin=function(n){s();var t=null;return J(r,function(e){n===e.identifier&&(t=e)}),t||J(i,function(e){n===e.identifier&&(t=e)}),t},o.getPropertyManager=function(){return s(),l},o.getPostChannel=function(){return s(),f},o.getNotifyMgr=function(){return n=n||new Mt}})},zo=(n(Ko,Bo=Cr),Ko);function Ko(e,s,u){var c,n=Bo.call(this)||this,t=e;return y(Ko,n,function(o,a){o.getSharedPropertyManager=function(){return t.getPropertyManager()},o.getSharedPostChannel=function(){return t.getPostChannel()},o.getOverridePropertyManager=function(){return c},o.initialize=function(r,i){$(o,function(){return"ApplicationInsights:initialize"},function(){var e=[c=new Mo],n=(i&&(e=e.concat(i)),r.extensionConfig=r.extensionConfig||[],r.propertyConfiguration||{});r.propertyConfiguration&&delete r.propertyConfiguration,r.extensionConfig[c.identifier]=n;try{a.initialize(r,e,s,u)}catch(t){o.logger.throwInternal(X.LoggingSeverity.CRITICAL,ne.FailedToInitializeSDK,"Failed to initialize SDK."+Nn(t))}},function(){return{config:r,extensions:i}})}}),n}X.AppExtensionKeys=l,X.AppInsightsCore=Cr,X.Application=wr,X.ApplicationInsights=zo,X.ApplicationInsightsManager=c,X.BE_PROFILE="BEST_EFFORT",X.BaseTelemetryPlugin=Pe,X.Cloud=br,X.CoreUtils=hr,X.Device=Hr,X.DeviceExtKeys=x,X.DiagnosticLogger=qn,X.EventLatency=ee,X.EventPersistence={Normal:1,Critical:2},X.EventsDiscardedReason=G,X.Extensions=C,X.InternalAppInsightsCore=L,X.Loc=Wr,X.MinChannelPriorty=100,X.NRT_PROFILE="NEAR_REAL_TIME",X.NotificationManager=Mt,X.OSExtKeys=Qr,X.OperatingSystem=zr,X.OverridePropertiesPlugin=Mo,X.PostChannel=to,X.PropertiesPlugin=yi,X.RT_PROFILE=mi,X.Session=jr,X.TelemetryContext=vi,X.TraceLevel={NONE:0,ERROR:1,WARNING:2,INFORMATION:3},X.UserExtensionKeys=d,X.ValueKind=nr,X.WebExtensionKeys=f,X._InternalLogMessage=Bn,X._InternalMessageId=Ce,X.cookieAvailable=Et,X.defaultFlightIdNameSpaces=Ir,X.getISOString=Xe,X.isArray=Q,X.isBeaconsSupported=Pn,X.isBoolean=je,X.isLatency=cr,X.isNumber=He,X.isReactNative=On,X.isString=We,X.isUint8ArrayAvailable=function(){return sr=null===sr?!H(Uint8Array)&&!function(){var e=bn();if(!H(e)&&e.userAgent)return!~(e=e.userAgent.toLowerCase()).indexOf("safari")&&!~e.indexOf("firefox")||~e.indexOf("chrome")?void 0:1}()&&!On():sr},X.isValueAssigned=ur;e=X,r="__esModule",Cr={value:!0},c=Object.defineProperty;if(c)try{return c(e,r,Cr)}catch(Yo){}typeof Cr.value!==undefined&&(e[r]=Cr.value)}(this.oneDS=this.oneDS||{});
//# sourceMappingURL=ms.shared.analytics-3.1.11.gbl.min.js.map
